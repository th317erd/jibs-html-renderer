var __webpack_modules__={515:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BU:()=>addResourceResolver,LB:()=>resolveResourcePath,Y_:()=>addResourceHandler,e$:()=>removeResourceHandler,gK:()=>cssHandler,js:()=>removeResourceResolver,zD:()=>load,zF:()=>javascriptHandler});const cacheMap=new Map,resourceResolvers=new Set,resourceHandlers=new Set;function addResourceResolver(e){resourceResolvers.add(e)}function removeResourceResolver(e){resourceResolvers.delete(e)}function addResourceHandler(e){resourceHandlers.add(e)}function removeResourceHandler(e){resourceHandlers.delete(e)}function resolveResourcePath(e){let t=e;for(let e of resourceResolvers)t=e(t);return t}function javascriptHandler(resourcePath){if(/\.[mc]?js$/i.test(resourcePath))return eval(`(import('${resourcePath.replace(/'/g,"\\'")}'))`)}function cssHandler(e){if(/\.css$/i.test(e))return new Promise(((t,r)=>{fetch(e,{method:"GET",mode:"cors",credentials:"same-origin"}).then((async e=>{let r=await e.text(),n=document.createElement("style");n.innerHTML=r,document.head.appendChild(n),t(n)})).catch(r)}))}function handleResource(e){for(let t of resourceHandlers){let r=t(e);if(r)return r}throw new Error(`jibs-html-renderer:load: Unknown resource "${e}". I don't know how to handle this resource type. Please add a resource handler to manage this resource type.`)}function load(e){let t=resolveResourcePath(e),r=cacheMap.get(t);if(r)return r;let n=handleResource(t).then((e=>{let r=e;return r&&r.default&&(r=r.default),cacheMap.set(t,r),r}));return cacheMap.set(t,n),n}Object.defineProperties(load,{addResolver:{writable:!0,enumerable:!1,configurable:!0,value:addResourceResolver},removeResolver:{writable:!0,enumerable:!1,configurable:!0,value:removeResourceResolver},resolve:{writable:!0,enumerable:!1,configurable:!0,value:resolveResourcePath}}),addResourceHandler(javascriptHandler),addResourceHandler(cssHandler)}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{__webpack_require__.d(__webpack_exports__,{$:()=>n,wA:()=>i,z8:()=>o,q$:()=>s,MD:()=>HTMLRenderer,El:()=>a,pv:()=>l,cQ:()=>c,Y_:()=>p.Y_,BU:()=>p.BU,gK:()=>p.gK,Be:()=>u,d5:()=>d,zF:()=>p.zF,zD:()=>p.zD,e$:()=>p.e$,js:()=>p.js,LB:()=>p.LB});var e={711:function(e,t,r){const n=("undefined"!=typeof window?window:r.g)||this,i=Symbol.for("@@deadbeefRefMap"),o=Symbol.for("@@deadbeefUniqueID"),s=n[i]?n[i]:new WeakMap,a=[];n[i]||(n[i]=s);let l=0n;function anythingToID(e,t){let r=e;(r instanceof Number||r instanceof String||r instanceof Boolean)&&(r=r.valueOf());let n=typeof r;if("number"===n&&0===r)return Object.is(r,-0)?"number:-0":"number:+0";if("symbol"===n)return`symbol:${r.toString()}`;if(null==r||"number"===n||"boolean"===n||"string"===n||"bigint"===n)return"number"===n?r<0?`number:${r}`:`number:+${r}`:"bigint"===n&&0n===r?"bigint:+0":`${n}:${r}`;let i=a.length>0&&function getHelperForValue(e){for(let t=0,r=a.length;t<r;t++){let{helper:r,generator:n}=a[t];if(r(e))return n}}(r);if(i)return anythingToID(i(r));if(o in r&&"function"==typeof r[o]&&(!t||!t.has(r))){let e=t||new Set;return e.add(r),anythingToID(r[o](),e)}if(!s.has(r)){let e=`${typeof r}:${++l}`;return s.set(r,e),e}return s.get(r)}function deadbeef(){let e=[arguments.length];for(let t=0,r=arguments.length;t<r;t++)e.push(anythingToID(arguments[t]));return e.join(":")}Object.defineProperties(deadbeef,{idSym:{writable:!0,enumerable:!1,configurable:!0,value:o},sorted:{writable:!0,enumerable:!1,configurable:!0,value:function deadbeefSorted(){let e=[arguments.length];for(let t=0,r=arguments.length;t<r;t++)e.push(anythingToID(arguments[t]));return e.sort().join(":")}},generateIDFor:{writable:!0,enumerable:!1,configurable:!0,value:function generateIDFor(e,t){a.push({helper:e,generator:t})}},removeIDGenerator:{writable:!0,enumerable:!1,configurable:!0,value:function removeIDGenerator(e){let t=a.findIndex((t=>t.helper===e));t<0||a.splice(t,1)}}}),e.exports=deadbeef}},t={};function __nested_webpack_require_1712__(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,__nested_webpack_require_1712__),i.exports}__nested_webpack_require_1712__.d=(e,t)=>{for(var r in t)__nested_webpack_require_1712__.o(t,r)&&!__nested_webpack_require_1712__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__nested_webpack_require_1712__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_1712__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var r={};(()=>{__nested_webpack_require_1712__.d(r,{$:()=>i,wA:()=>o,z8:()=>s,q$:()=>DOMRenderer,El:()=>a,pv:()=>l,cQ:()=>c,Be:()=>u,d5:()=>d});var e={187:e=>{var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function ReflectApply(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function ReflectOwnKeys(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function NumberIsNaN(e){return e!=e};function EventEmitter(){EventEmitter.init.call(this)}e.exports=EventEmitter,e.exports.once=function once(e,t){return new Promise((function(r,n){function errorListener(r){e.removeListener(t,resolver),n(r)}function resolver(){"function"==typeof e.removeListener&&e.removeListener("error",errorListener),r([].slice.call(arguments))}eventTargetAgnosticAddListener(e,t,resolver,{once:!0}),"error"!==t&&function addErrorHandlerIfEventEmitter(e,t,r){"function"==typeof e.on&&eventTargetAgnosticAddListener(e,"error",t,r)}(e,errorListener,{once:!0})}))},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var o=10;function checkListener(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function _getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function _addListener(e,t,r,n){var i,o,s;if(checkListener(r),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),o=e._events),s=o[t]),void 0===s)s=o[t]=r,++e._eventsCount;else if("function"==typeof s?s=o[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=_getMaxListeners(e))>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,function ProcessEmitWarning(e){console&&console.warn&&console.warn(e)}(a)}return e}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=onceWrapper.bind(n);return i.listener=r,n.wrapFn=i,i}function _listeners(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function unwrapListeners(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):arrayClone(i,i.length)}function listenerCount(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function arrayClone(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function eventTargetAgnosticAddListener(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function wrapListener(i){n.once&&e.removeEventListener(t,wrapListener),r(i)}))}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var l=o[e];if(void 0===l)return!1;if("function"==typeof l)n(l,this,t);else{var c=l.length,u=arrayClone(l,c);for(r=0;r<c;++r)n(u[r],this,t)}return!0},EventEmitter.prototype.addListener=function addListener(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function once(e,t){return checkListener(t),this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(e,t){return checkListener(t),this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function removeListener(e,t){var r,n,i,o,s;if(checkListener(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,o=r.length-1;o>=0;o--)if(r[o]===t||r[o].listener===t){s=r[o].listener,i=o;break}if(i<0)return this;0===i?r.shift():function spliceOne(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,o=Object.keys(r);for(n=0;n<o.length;++n)"removeListener"!==(i=o[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},EventEmitter.prototype.listeners=function listeners(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function rawListeners(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?t(this._events):[]}},711:function(e,t,r){const n=("undefined"!=typeof window?window:r.g)||this,i=Symbol.for("@@deadbeefRefMap"),o=Symbol.for("@@deadbeefUniqueID"),s=n[i]?n[i]:new WeakMap,a=[];n[i]||(n[i]=s);let l=0n;function anythingToID(e,t){let r=e;(r instanceof Number||r instanceof String||r instanceof Boolean)&&(r=r.valueOf());let n=typeof r;if("number"===n&&0===r)return Object.is(r,-0)?"number:-0":"number:+0";if("symbol"===n)return`symbol:${r.toString()}`;if(null==r||"number"===n||"boolean"===n||"string"===n||"bigint"===n)return"number"===n?r<0?`number:${r}`:`number:+${r}`:"bigint"===n&&0n===r?"bigint:+0":`${n}:${r}`;let i=a.length>0&&function getHelperForValue(e){for(let t=0,r=a.length;t<r;t++){let{helper:r,generator:n}=a[t];if(r(e))return n}}(r);if(i)return anythingToID(i(r));if(o in r&&"function"==typeof r[o]&&(!t||!t.has(r))){let e=t||new Set;return e.add(r),anythingToID(r[o](),e)}if(!s.has(r)){let e=`${typeof r}:${++l}`;return s.set(r,e),e}return s.get(r)}function deadbeef(){let e=[arguments.length];for(let t=0,r=arguments.length;t<r;t++)e.push(anythingToID(arguments[t]));return e.join(":")}Object.defineProperties(deadbeef,{idSym:{writable:!0,enumerable:!1,configurable:!0,value:o},sorted:{writable:!0,enumerable:!1,configurable:!0,value:function deadbeefSorted(){let e=[arguments.length];for(let t=0,r=arguments.length;t<r;t++)e.push(anythingToID(arguments[t]));return e.sort().join(":")}},generateIDFor:{writable:!0,enumerable:!1,configurable:!0,value:function generateIDFor(e,t){a.push({helper:e,generator:t})}},removeIDGenerator:{writable:!0,enumerable:!1,configurable:!0,value:function removeIDGenerator(e){let t=a.findIndex((t=>t.helper===e));t<0||a.splice(t,1)}}}),e.exports=deadbeef}},t={};function __nested_webpack_require_8778__(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,__nested_webpack_require_8778__),i.exports}__nested_webpack_require_8778__.d=(e,t)=>{for(var r in t)__nested_webpack_require_8778__.o(t,r)&&!__nested_webpack_require_8778__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__nested_webpack_require_8778__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_8778__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_8778__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{__nested_webpack_require_8778__.d(n,{$:()=>c,wA:()=>Component,z8:()=>x,El:()=>O,pv:()=>T,cQ:()=>e,Be:()=>t,d5:()=>factory});var e={};__nested_webpack_require_8778__.r(e),__nested_webpack_require_8778__.d(e,{bindMethods:()=>bindMethods,childrenDiffer:()=>childrenDiffer,fetchDeepProperty:()=>fetchDeepProperty,flattenArray:()=>flattenArray,instanceOf:()=>instanceOf,isEmpty:()=>isEmpty,isIterableChild:()=>isIterableChild,isNotEmpty:()=>isNotEmpty,isValidChild:()=>isValidChild,iterate:()=>o,propsDiffer:()=>propsDiffer,sizeOf:()=>sizeOf});var t=__nested_webpack_require_8778__(711);const r=Symbol.for("@jibsIterateStop"),i="undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0;function instanceOf(e){function testType(e,t){let r=t,n=typeof e;return r===i.String?r="string":r===i.Number?r="number":r===i.Boolean?r="boolean":r===i.Function?r="function":r===i.Array?r="array":r===i.Object?r="object":r===i.Promise?r="promise":r===i.BigInt?r="bigint":r===i.Map?r="map":r===i.WeakMap?r="weakmap":r===i.Set?r="set":r===i.Symbol?r="symbol":r===i.Buffer&&(r="buffer"),!("buffer"!==r||!i.Buffer||!i.Buffer.isBuffer(e))||("number"===r&&("number"===n||e instanceof Number||e.constructor&&"Number"===e.constructor.name)?!!isFinite(e):"object"!==r&&r===n||("object"===r?!!(e.constructor===Object.prototype.constructor||e.constructor&&"Object"===e.constructor.name)||"object"===n&&!e.constructor:!("array"!==r||!(Array.isArray(e)||e instanceof Array||e.constructor&&"Array"===e.constructor.name))||!("promise"!==r&&"deferred"!==r||!function isDeferredType(e){return!!(e instanceof Promise||e.constructor&&"Promise"===e.constructor.name)||"function"==typeof e.then&&"function"==typeof e.catch}(e))||!("string"!==r||!(e instanceof i.String||e.constructor&&"String"===e.constructor.name))||!("boolean"!==r||!(e instanceof i.Boolean||e.constructor&&"Boolean"===e.constructor.name))||!("map"!==r||!(e instanceof i.Map||e.constructor&&"Map"===e.constructor.name))||!("weakmap"!==r||!(e instanceof i.WeakMap||e.constructor&&"WeakMap"===e.constructor.name))||!("set"!==r||!(e instanceof i.Set||e.constructor&&"Set"===e.constructor.name))||"function"===r&&"function"===n||"function"==typeof r&&e instanceof r||!("string"!=typeof r||!e.constructor||e.constructor.name!==r)))}if(null==e)return!1;for(var t=1,r=arguments.length;t<r;t++)if(!0===testType(e,arguments[t]))return!0;return!1}function propsDiffer(e,t,r){if(e===t)return!1;if(typeof e!=typeof t)return!0;if(!e&&t)return!0;if(e&&!t)return!0;if(!e&&!t&&e!=e)return!0;let n=Object.keys(e).concat(Object.getOwnPropertySymbols(e)),i=Object.keys(t).concat(Object.getOwnPropertySymbols(t));if(n.length!==i.length)return!0;for(let o=0,s=n.length;o<s;o++){let s=n[o];if(r&&r.indexOf(s))continue;if(e[s]!==t[s])return!0;let a=i[o];if(!(r&&r.indexOf(a)||s===a||e[a]===t[a]))return!0}return!1}function sizeOf(e){return e?Object.is(1/0)?0:"number"==typeof e.length?e.length:Object.keys(e).length:0}function _iterate(e,t){if(!e||Object.is(1/0))return[];let n,i=[],o={collection:e,STOP:r};if(Array.isArray(e)){o.type="Array";for(let s=0,a=e.length;s<a&&(o.value=e[s],o.index=o.key=s,n=t.call(this,o),n!==r);s++)i.push(n)}else if("function"==typeof e.entries)if(e instanceof Set||"Set"===e.constructor.name){o.type="Set";let s=0;for(let a of e.values()){if(o.value=a,o.key=a,o.index=s++,n=t.call(this,o),n===r)break;i.push(n)}}else{o.type=e.constructor.name;let s=0;for(let[a,l]of e.entries()){if(o.value=l,o.key=a,o.index=s++,n=t.call(this,o),n===r)break;i.push(n)}}else{if(instanceOf(e,"boolean","number","bigint","function"))return;o.type=e.constructor?e.constructor.name:"Object";let s=Object.keys(e);for(let a=0,l=s.length;a<l;a++){let l=s[a],c=e[l];if(o.value=c,o.key=l,o.index=a,n=t.call(this,o),n===r)break;i.push(n)}}return i}Object.defineProperties(_iterate,{STOP:{writable:!1,enumerable:!1,configurable:!1,value:r}});const o=_iterate;function childrenDiffer(e,r){let n=Array.isArray(e)?e:[e],i=Array.isArray(r)?r:[r];return t(...n)!==t(...i)}function fetchDeepProperty(e,t,r,n){if(null==e||Object.is(NaN,e)||Object.is(1/0,e))return n?[r,null]:r;if(null==t||Object.is(NaN,t)||Object.is(1/0,t))return n?[r,null]:r;let i;if(Array.isArray(t))i=t;else if("symbol"==typeof t)i=[t];else{let e=""+t,r=0,n=0;for(i=[];;){let t=e.indexOf(".",r);if(t<0){i.push(e.substring(n));break}"\\"!==e.charAt(t-1)?(i.push(e.substring(n,t)),n=r=t+1):r=t+1}}let o=i[i.length-1];if(0===i.length)return n?[r,o]:r;let s=e;for(let e=0,t=i.length;e<t;e++)if(s=s[i[e]],null==s)return n?[r,o]:r;return n?[s,o]:s}function bindMethods(e,t){let r=e,n=new Set;for(;r;){let e=Object.getOwnPropertyDescriptors(r),i=Object.keys(e).concat(Object.getOwnPropertySymbols(e));for(let e=0,t=i.length;e<t;e++){let t=i[e];if("constructor"===t)continue;if(n.has(t))continue;n.add(t);let o=r[t];Object.prototype.hasOwnProperty(t)&&Object.prototype[t]===o||"function"==typeof o&&(this[t]=o.bind(this))}if(r=Object.getPrototypeOf(r),r===Object.prototype)break;if(t&&t.indexOf(r)>=0)break}}function isEmpty(e){return!(null!=e&&(Object.is(e,1/0)||!Object.is(e,NaN)&&(instanceOf(e,"string")?/\S/.test(e):instanceOf(e,"number")&&isFinite(e)||instanceOf(e,"boolean","bigint","function")||0!==sizeOf(e))))}function isNotEmpty(e){return!isEmpty.call(this,e)}function flattenArray(e){if(!Array.isArray(e))return e;let t=[];for(let r=0,n=e.length;r<n;r++){let n=e[r];Array.isArray(n)?t=t.concat(flattenArray(n)):t.push(n)}return t}function isValidChild(e){return null!=e&&"boolean"!=typeof e&&!Object.is(e,1/0)&&!Object.is(e,NaN)}function isIterableChild(e){return null!=e&&!Object.is(e,NaN)&&!Object.is(e,1/0)&&(Array.isArray(e)||"object"==typeof e&&!instanceOf(e,"boolean","number","string"))}class Jib{constructor(e,t,r){Object.defineProperties(this,{Type:{writable:!0,enumerable:!0,configurable:!0,value:e},props:{writable:!0,enumerable:!0,configurable:!0,value:t},children:{writable:!0,enumerable:!0,configurable:!0,value:flattenArray(r)}})}}const s=Symbol.for("@jibs.barren"),a=Symbol.for("@jibs.proxy"),l=Symbol.for("@jibs.jib");function factory(e){return function $(r,n={}){if(isJibish(r))throw new TypeError("Received a jib but expected a component.");let i=null==r?a:r;function barren(...r){let o=r;function jib(){return instanceOf(i,"promise")||o.some((e=>instanceOf(e,"promise")))?Promise.all([i].concat(o)).then((t=>(i=t[0],o=t.slice(1),new e(i,n,o)))):new e(i,n,o)}return Object.defineProperties(jib,{[l]:{writable:!1,enumerable:!1,configurable:!1,value:!0},[t.idSym]:{writable:!1,enumerable:!1,configurable:!1,value:()=>i}}),jib}return Object.defineProperties(barren,{[s]:{writable:!1,enumerable:!1,configurable:!1,value:!0},[t.idSym]:{writable:!1,enumerable:!1,configurable:!1,value:()=>i}}),barren}}const c=factory(Jib);function isJibish(e){return!("function"!=typeof e||!e[s]&&!e[l])||e instanceof Jib}function constructJib(e){if(e instanceof Jib)return e;if("function"==typeof e){if(e[s])return e()();if(e[l])return e()}throw new TypeError("constructJib: Provided value is not a Jib.")}async function resolveChildren(e){let t=e;instanceOf(t,"promise")&&(t=await t),(this.isIterableChild||isIterableChild).call(this,t)||!isJibish(t)&&!(this.isValidChild||isValidChild).call(this,t)||(t=[t]);let r=o(t,(async({value:e})=>{let t=instanceOf(e,"promise")?await e:e;return isJibish(t)?await constructJib(t):t}));return await Promise.all(r)}var u=__nested_webpack_require_8778__(187);const d="@jibs/component/event/update",p=Symbol.for("@jibs/component/queueUpdate"),f=Symbol.for("@jibs/component/flushUpdate"),h=Symbol.for("@jibs/component/__init"),_=Symbol.for("@jibs/component/skipStateUpdates"),b=Symbol.for("@jibs/component/pendingStateUpdate"),m=Symbol.for("@jibs/component/lastRenderTime"),y=Symbol.for("@jibs/component/previousState"),v=Symbol.for("@jibs/component/previousState");function isValidStateObject(e){if(null==e)return!1;if(Object.is(e,NaN))return!1;if(Object.is(e,1/0))return!1;if(e instanceof Boolean||e instanceof Number||e instanceof String)return!1;let t=typeof e;return!("string"===t||"number"===t||"boolean"===t||Array.isArray(e)||"undefined"!=typeof Buffer&&Buffer.isBuffer(e))}class Component extends u{static UPDATE_EVENT=d;[p](){this[b]||(this[b]=Promise.resolve(),this[b].then(this[f].bind(this)))}[f](){this[b]&&(this.emit(d),this[b]=null)}[h](){this[_]=!1}constructor(e){super(),this.setMaxListeners(1/0),bindMethods.call(this,this.constructor.prototype,[u.prototype]);let t=e||{},r=t.props||{},n=(()=>{let e=Object.create(null);return new Proxy(e,{get:(e,t)=>e[t],set:(e,t,r)=>{let n=e[t];return n===r||(this[_]||this[p](),e[t]=r,this.onStateUpdated(t,r,n)),!0}})})();Object.defineProperties(this,{[_]:{writable:!0,enumerable:!1,configurable:!0,value:!0},[b]:{writable:!0,enumerable:!1,configurable:!0,value:null},[m]:{writable:!0,enumerable:!1,configurable:!0,value:Date.now()},[v]:{writable:!0,enumerable:!1,configurable:!0,value:{}},id:{writable:!1,enumerable:!1,configurable:!1,value:t.id},props:{writable:!0,enumerable:!1,configurable:!0,value:r},children:{writable:!0,enumerable:!1,configurable:!0,value:t.children||[]},context:{writable:!0,enumerable:!1,configurable:!0,value:t.context||Object.create(null)},state:{enumerable:!1,configurable:!0,get:()=>n,set:e=>{if(!isValidStateObject(e))throw new TypeError(`Invalid value for "this.state": "${e}". Provided "state" must be an iterable object.`);Object.assign(n,e)}}})}resolveChildren(e){return resolveChildren.call(this,e)}isJib(e){return isJibish(e)}constructJib(e){return constructJib(e)}pushRender(e){this.emit(d,e)}onPropUpdated(e,t,r){}onStateUpdated(e,t,r){}captureReference(e,t){let r=this[v][e];return r||(r=r=>{let n=r;"function"==typeof t&&(n=t.call(this,n)),Object.defineProperties(this,{[e]:{writable:!0,enumerable:!1,configurable:!0,value:n}})},"function"!=typeof t&&(this[v]=r),r)}forceUpdate(){this[p]()}getState(e,t){let r=this.state;if(0===arguments.length)return r;if(instanceOf(e,"object")){let t=Object.keys(e).concat(Object.getOwnPropertySymbols(e)),n={};for(let i=0,o=t.length;i<o;i++){let o=t[i],[s,a]=fetchDeepProperty(r,o,e[o],!0);null!=a&&(n[a]=s)}return n}return fetchDeepProperty(r,e,t)}setState(e){if(!isValidStateObject(e))throw new TypeError(`Invalid value for "this.setState": "${e}". Provided "state" must be an iterable object.`);Object.assign(this.state,e)}setStatePassive(e){if(!isValidStateObject(e))throw new TypeError(`Invalid value for "this.setStatePassive": "${e}". Provided "state" must be an iterable object.`);try{this[_]=!0,Object.assign(this.state,e)}finally{this[_]=!1}}shouldUpdate(){return!0}destroy(){delete this.state,delete this.props,delete this.context,delete this[v]}renderWaiting(){}render(e){return e}updated(){}combineWith(e,...t){let r=new Set;for(let n=0,i=t.length;n<i;n++){let i=t[n];if(i)if(instanceOf(i,"string")){let t=i.split(e).filter(isNotEmpty);for(let e=0,n=t.length;e<n;e++){let n=t[e];r.add(n)}}else if(Array.isArray(i)){let e=i.filter((e=>!!e&&!!instanceOf(e,"string")&&isNotEmpty(e)));for(let t=0,n=e.length;t<n;t++){let n=e[t];r.add(n)}}else if(instanceOf(i,"object")){let e=Object.keys(i);for(let t=0,n=e.length;t<n;t++){let n=e[t];i[n]?r.add(n):r.delete(n)}}}return Array.from(r).join(e||"")}combine(...e){return this.combineWith(/[\s\n]+/m,...e)}}const w=Symbol.for("@jibs/node/contextID");let g=1;class RootNode{static CONTEXT_ID=w;constructor(e,t,r){let n=e.createContext(r,this.onContextUpdate?this.onContextUpdate:void 0,this);Object.defineProperties(this,{id:{writable:!1,enumerable:!1,configurable:!1,value:g++},renderer:{writable:!0,enumerable:!1,configurable:!0,value:e},parent:{writable:!0,enumerable:!1,configurable:!0,value:t},context:{enumerable:!1,configurable:!0,get:()=>n,set:()=>{}},renderPromise:{writable:!0,enumerable:!1,configurable:!0,value:null},destroying:{writable:!0,enumerable:!1,configurable:!0,value:!1},renderStartTime:{writable:!0,enumerable:!1,configurable:!0,value:Date.now()}})}destroy(){this.destroying=!0,this.context=null}isValidChild(e){return isValidChild(e)}isIterableChild(e){return isIterableChild(e)}propsDiffer(e,t,r){return propsDiffer(e,t,r)}childrenDiffer(e,t){return childrenDiffer(e,t)}async render(e,t){if(!this.destroying)return this.renderStartTime=Date.now(),this._render(e,t).then((e=>(this.renderPromise=null,e))).catch((e=>{throw this.renderPromise=null,e}))}}let E=0n;class RootElement{static TYPE_ELEMENT=1;static TYPE_TEXT=3;static TYPE_COMMENT=8;static TYPE_PORTAL=15;constructor(e,t,r,n){this.isJibsVirtualElement=!0,this.type=e,this.id=t,this.value=r,this.props=n||{}}}const O={JIB_BARREN:s,JIB_PROXY:a,JIB:l,Jib,isJibish,constructJib,resolveChildren},x={UPDATE_EVENT:d,QUEUE_UPDATE_METHOD:p,FLUSH_UPDATE_METHOD:f,INIT_METHOD:h,SKIP_STATE_UPDATES:_,PENDING_STATE_UPDATE:b,LAST_RENDER_TIME:m,PREVIOUS_STATE:y},T={CONTEXT_ID:RootNode.CONTEXT_ID,RootNode,Renderer:class Renderer extends u{static RootNode=RootNode;constructor(){super(),this.setMaxListeners(1/0),Object.defineProperties(this,{context:{writable:!0,enumerable:!1,configurable:!0,value:this.createContext()},destroying:{writable:!0,enumerable:!1,configurable:!0,value:!1},renderStartTime:{writable:!0,enumerable:!1,configurable:!0,value:Date.now()}})}createContext(e,t,r){let n=Object.create(null),i=e?e[w]:1n;return new Proxy(n,{get:(t,r)=>{if(r===w){let t=e?e[w]:1n;return t>i?t:i}return Object.prototype.hasOwnProperty.call(t,r)?t[r]:e?e[r]:void 0},set:(e,n,o)=>(n===w||e[n]===o||(i=++E,e[n]=o,"function"==typeof t&&t.call(r,r)),!0)})}},RootElement,CommentElement:class CommentElement extends RootElement{static TYPE=RootElement.TYPE_COMMENT;constructor(e,t,r){super(RootElement.TYPE_COMMENT,e,t,r)}},NativeElement:class NativeElement extends RootElement{static TYPE=RootElement.TYPE_ELEMENT;constructor(e,t,r){super(RootElement.TYPE_ELEMENT,e,t,r)}},PortalElement:class PortalElement extends RootElement{static TYPE=RootElement.TYPE_PORTAL;constructor(e,t,r){super(RootElement.TYPE_PORTAL,e,t,r)}},TextElement:class TextElement extends RootElement{static TYPE=RootElement.TYPE_TEXT;constructor(e,t,r){super(RootElement.TYPE_TEXT,e,t,r)}}}})();var i=n.$,o=n.wA,s=n.z8,a=n.El,l=n.pv,c=n.cQ,u=n.Be,d=n.d5,p=__nested_webpack_require_1712__(711);const{isJibish:f,constructJib:h,JIB_PROXY:_}=a,{RootNode:b}=l,m=Symbol.for("@jib/textNode"),y=Symbol.for("@jib/fragmentNode");class FragmentNode extends b{constructor(...e){super(...e),Object.defineProperties(this,{_nodeCache:{writable:!0,enumerable:!1,configurable:!0,value:new Map}})}async destroy(){if(!this.destroying){if(this.destroying=!0,this._nodeCache){let e=[],t=this._nodeCache;this._nodeCache=null;for(let r of t.values())r&&r.node&&r.node.destroy&&e.push(r.node.destroy());t.clear(),await Promise.all(e)}return await super.destroy()}}async syncElementsWithRenderer(e,t,r){if(!this.parent||r<this.renderStartTime||this.renderPromise)return;if(!this._nodeCache)return await this.parent.syncElementsWithRenderer(e,t,r);let n=[];for(let[r,i]of this._nodeCache)i.node===e?(this._nodeCache.set(r,{...i,renderResult:t}),n.push(t)):n.push(i.renderResult);return await this.parent.syncElementsWithRenderer(e,n,r)}async _render(e,t){let r=new Map,n=e,i=Date.now();if(c.instanceOf(n,"promise")&&(n=await n),this.destroying||i<this.renderStartTime)return;this.isIterableChild(n)||!f(n)&&!this.isValidChild(n)||(n=[n]);const getIndexForType=e=>{let t=(r.get(e)||0)+1;return r.set(e,t),t};let o=!1,s=c.iterate(n,(({value:e,key:r,index:n,STOP:s})=>o||this.destroying||i<this.renderStartTime?s:(async()=>{let s,a,l,u,d=c.instanceOf(e,"promise")?await e:e;if(f(d)){let e=h(d);if(c.instanceOf(e,"promise")&&(e=await e),this.destroying||i<this.renderStartTime)return void(o=!0);let f,{Type:b,props:m}=e;m||(m={}),f=n!==r?r:null==m.key||Object.is(m.key,NaN)||Object.is(m.key,1/0)?`@jib/internal_key_${getIndexForType(b)}`:m.key,a=p(b,f);let y=this._nodeCache.get(a);y?(s=!1,l=y.node):(s=!0,l=this.renderer.constructNodeFromJib(e,this,this.context)),u=b===_?await l.render(e.children,t):await l.render(e,t)}else if(this.isIterableChild(d)){if(c.isEmpty(d))return;a=p(`@jib/internal_fragment_${getIndexForType(y)}`);let e=this._nodeCache.get(a);e?(s=!1,l=e.node):(s=!0,l=this.renderer.constructNodeFromJib(_,this,this.context)),u=await l.render(d,t)}else if(this.isValidChild(d)){d="function"==typeof d.valueOf?d.valueOf():d,a=p(`@jib/internal_text_${getIndexForType(m)}`);let e=this._nodeCache.get(a);e?(s=!1,l=e.node):(s=!0,l=new this.renderer.constructor.TextNode(this.renderer,this,this.context)),u=await l.render(d,t)}return{node:l,cacheKey:a,renderResult:u,created:s}})())),a=await Promise.all(s);a=a.filter((e=>!!e));let l=[];if(this.destroying||i<this.renderStartTime){for(let e=0,t=a.length;e<t;e++){let t=a[e],{node:r,created:n}=t;n&&r&&l.push(r.destroy())}return void(l.length>0&&await Promise.all(l))}let u=new Map;for(let e=0,t=a.length;e<t;e++){let t=a[e];u.set(t.cacheKey,t)}if(this._nodeCache){for(let[e,t]of this._nodeCache)u.has(e)||l.push(t.node.destroy());this._nodeCache=u,l.length>0&&await Promise.all(l)}else this._nodeCache=u;return a.map((e=>e.renderResult)).filter((e=>null!=e&&!Object.is(e,NaN)&&!Object.is(e,1/0)))}}const{RootNode:v,TextElement:w}=l;class TextNode extends v{async destroy(){if(!this.destroying)return this.destroying=!0,await super.destroy()}async _render(e){return new w(this.id,e)}}const{JIB_PROXY:g}=a,{RootNode:E,NativeElement:O,TextElement:x}=l;class NativeNode extends E{static ELEMENT_CLASS=O;constructor(...e){super(...e),Object.defineProperties(this,{rootNode:{writable:!0,enumerable:!1,configurable:!0,value:null},_currentJib:{writable:!0,enumerable:!1,configurable:!0,value:null},_cachedRenderResult:{writable:!0,enumerable:!1,configurable:!0,value:{id:this.id}}})}async syncElementsWithRenderer(e,t,r){!this.renderer||this.destroying||r<this.renderStartTime||await this.renderer.updateElementChildren(this.context,this._cachedRenderResult,t,r)}async destroy(){if(!this.destroying)return this.destroying=!0,this.rootNode&&(await this.rootNode.destroy(),this.rootNode=null),await super.destroy()}async _render(e,t){let{Type:r,props:n,children:i}=this._currentJib=e||{};if(!r)return;let o=Date.now();if(Object.prototype.hasOwnProperty.call(n,"innerHTML"))this.rootNode&&(await this.rootNode.destroy(),this.rootNode=null);else{let e=this.rootNode;e||(e=this.rootNode=this.renderer.constructNodeFromJib(g,this,this.context));let r=Object.create(t);r.index=0,e.render(i,r).then((e=>this.syncElementsWithRenderer(this,e,o))).catch((e=>{let t=e;return t instanceof Error||(t=new Error(t)),this.syncElementsWithRenderer(this,[new x(null,t,n)],o)}))}return this._cachedRenderResult=new this.constructor.ELEMENT_CLASS(this.id,r,n)}}const{PortalElement:T}=l;class PortalNode extends NativeNode{static ELEMENT_CLASS=T}const{JIB_PROXY:j,resolveChildren:R}=a,{CONTEXT_ID:N,RootNode:P}=l,{INIT_METHOD:k,UPDATE_EVENT:S,PENDING_STATE_UPDATE:C,LAST_RENDER_TIME:L,SKIP_STATE_UPDATES:A}=s;class ComponentNode extends P{constructor(...e){super(...e),Object.defineProperties(this,{rootNode:{writable:!0,enumerable:!1,configurable:!0,value:null},component:{writable:!0,enumerable:!1,configurable:!0,value:null},_pendingContextUpdate:{writable:!0,enumerable:!1,configurable:!0,value:null},_cachedRenderResult:{writable:!0,enumerable:!1,configurable:!0,value:null},_cachedRenderContext:{writable:!0,enumerable:!1,configurable:!0,value:null},_cachedWaitingRenderResult:{writable:!0,enumerable:!1,configurable:!0,value:null},_previousState:{writable:!0,enumerable:!1,configurable:!0,value:{}},_currentJib:{writable:!0,enumerable:!1,configurable:!0,value:null},_lastContextID:{writable:!0,enumerable:!1,configurable:!0,value:this.context[N]||1n}})}createComponentProps(e){let t=Object.create(e||null);return Object.defineProperties(t,{ref:{writable:!0,enumerable:!1,configurable:!0,value:void 0},key:{writable:!0,enumerable:!1,configurable:!0,value:void 0}}),t}firePropUpdates(e,t){let r=e||{},n=new Set(Object.keys(r).concat(Object.getOwnPropertySymbols(r))),i=t||{},o=Object.keys(i).concat(Object.getOwnPropertySymbols(i));for(let e=0,t=o.length;e<t;e++)n.add(o[e]);for(let e of n){let t=i[e],n=r[e];t!==n&&this.component.onPropUpdated(e,n,t)}}shouldRender(e,t){let r=this.component;if(!r)return!0;if(this._lastContextID<this.context[N]){this._previousState=Object.assign({},r.state);let t=this.createComponentProps(e);return this.firePropUpdates(e,t),r.props=t,!0}if(this.childrenDiffer(r.children,t)){this._previousState=Object.assign({},r.state);let t=this.createComponentProps(e);return this.firePropUpdates(e,t),r.props=t,!0}let n=this._previousState||{};if(this.propsDiffer(r.props,e,["ref","key"])&&r.shouldUpdate(e,n)){this._previousState=Object.assign({},r.state);let t=this.createComponentProps(e);return this.firePropUpdates(e,t),r.props=t,!0}return!(!this.propsDiffer(n,r.state)||!r.shouldUpdate(e,n)||(this._previousState=Object.assign({},r.state),0))}async destroy(){if(!this.destroying)return this.destroying=!0,await this.renderPromise,this.component&&(this._currentJib&&"function"==typeof this._currentJib.props.ref&&this._currentJib.props.ref.call(this.component,null,this.component),await this.component.destroy(),this.component=null),this.rootNode&&(await this.rootNode.destroy(),this.rootNode=null),this._cachedRenderResult=null,this._previousState=null,this._currentJib=null,await super.destroy()}onContextUpdate(){return!this.component||this.component[A]||this.component[C]?Promise.resolve():this._pendingContextUpdate?this._pendingContextUpdate:void(this._pendingContextUpdate=Promise.resolve().then((async()=>{let e=Date.now(),t=await this.render(this._currentJib,this._cachedRenderContext||{index:0});await this.syncElementsWithRenderer(this,t,e),this._pendingContextUpdate=null})))}resolveChildren(e){return R.call(this,e)}async syncElementsWithRenderer(e,t,r){if(this.parent&&!(r<this.renderStartTime))return await this.parent.syncElementsWithRenderer(e,t,r)}async _render(e,t){e!==this._currentJib&&(this._currentJib=e),this._cachedRenderContext=t;let r=Date.now();const finalizeRender=async(e,r)=>{if(this.destroying||r<this.renderStartTime||!this.component)return;this.component[L]=Date.now();let n=this.rootNode;return n||(n=this.rootNode=this.renderer.constructNodeFromJib(j,this,this.context)),this._cachedRenderResult=await n.render(e,t)},handleRenderError=e=>{if(this.destroying||r<this.renderStartTime)return;let t;console.error(e),this.component&&(this.component[L]=Date.now());try{t=this.component&&"function"==typeof this.component.renderErrorState?this.component.renderErrorState(e):[`${e.message}\n${e.stack}`]}catch(r){t=[`${e.message}\n${e.stack}`]}return finalizeRender(t,r)};try{if(this.shouldRender(e.props,e.children)){let t=this.component,{Type:n,props:i,children:o}=e;if(e.children=await this.resolveChildren(o),!t){if(this.destroying||r<this.renderStartTime)return;t=this.component=new n({...e,props:this.createComponentProps(i),context:this.context,id:this.id}),"function"==typeof t[k]&&t[k](),t.on(S,(async e=>{let t=Date.now(),r=e?await finalizeRender(e,t):await this.render(this._currentJib,this._cachedRenderContext||{index:0});await this.syncElementsWithRenderer(this,r,t)})),i&&"function"==typeof i.ref&&i.ref.call(t,t,null)}this.component[C]&&(this.component[C]=null);let s=this.component.render(e.children);if(c.instanceOf(s,"promise")){let e=this.component.renderWaiting(this._cachedRenderResult),t=!1,n=setTimeout((async()=>{if(n=null,c.instanceOf(e,"promise")&&(e=await e),t)return;let i=await finalizeRender(e,r);this.syncElementsWithRenderer(this,i,r)}),5);return s.then((async e=>{t=!0,n&&(clearTimeout(n),n=null);let i=await finalizeRender(e,r);this.syncElementsWithRenderer(this,i,r)})).catch(handleRenderError),this._cachedRenderResult}return await finalizeRender(s,r)}return this._cachedRenderResult}catch(e){return await handleRenderError(e)}}}const{Renderer:D}=l,{JIB_PROXY:M}=a;class DOMRenderer extends D{static FragmentNode=FragmentNode;static TextNode=TextNode;static NativeNode=NativeNode;static PortalNode=PortalNode;static ComponentNode=ComponentNode;constructor(e){super(),Object.defineProperties(this,{rootElement:{writable:!1,enumerable:!1,configurable:!1,value:e},rootNode:{writable:!0,enumerable:!1,configurable:!0,value:null}})}isPortalNode(e){return/[^a-zA-Z0-9:]/.test(e)}constructNodeFromJib(e,t,r){if(e===M)return new this.constructor.FragmentNode(this,t,r);let{Type:n}=e;return"function"==typeof n?new this.constructor.ComponentNode(this,t,r):"string"==typeof n?this.isPortalNode(n)?new this.constructor.PortalNode(this,t,r):new this.constructor.NativeNode(this,t,r):null==n||n===M?new this.constructor.FragmentNode(this,t,r):void 0}async syncElementsWithRenderer(e,t,r){this.destroying||r<this.renderStartTime||await this.updateElementChildren(this.context,this.rootElement,t,r)}async render(e){let t=this.renderStartTime=Date.now(),r=this.rootNode;r||(r=this.rootNode=this.constructNodeFromJib(M,this,this.context));let n=await r.render(e,{index:0});return await this.syncElementsWithRenderer(this,n,t),n}}})();var n=r.$,i=r.wA,o=r.z8,s=r.q$,a=r.El,l=r.pv,c=r.cQ,u=r.Be,d=r.d5,p=__webpack_require__(515);const{NativeElement:f,TextElement:h,PortalElement:_}=l;class HTMLRenderer extends s{constructor(e,t){super(e);let r={document:this.rootElement&&this.rootElement.ownerDocument,...t||{}};Object.defineProperties(this,{options:{writable:!1,enumerable:!1,configurable:!1,value:r||{}},eventBindings:{writable:!1,enumerable:!1,configurable:!1,value:new WeakMap},elementIDMap:{writable:!1,enumerable:!1,configurable:!1,value:new Map}})}getDocument(e){let t=this.options;return t.document?t.document:"undefined"!=typeof document?document:void 0}getElementFromCache(e){let t=e&&this.elementIDMap.get(e.id)||this.elementIDMap.get(e);return!t&&e instanceof Node?{element:e}:t}addElementToCache(e){e&&(e.element&&this.elementIDMap.set(e.element,e),e.id&&this.elementIDMap.set(e.id,e))}removeElementFromCache(e){e&&(e.element&&this.elementIDMap.delete(e.element),e.id&&this.elementIDMap.delete(e.id))}_flattenAndFilterStyles(e,t){if(t&&!0!==t&&!Object.is(t,1/0)&&!Object.is(t,NaN)){if(Array.isArray(t)){let r=[];for(let n=0,i=t.length;n<i;n++){let i=t[n];i&&(i=this._flattenAndFilterStyles(e,t[n]),i&&(Array.isArray(i)?r=r.concat(i):r.push(i)))}return r}return t}}_parseCSSStyleString(e,t){let r={};return(t+"").replace(/([a-zA-Z0-9-]+)\s*:\s*([^;]+)/g,((e,t,n)=>{r[(e=>e.replace(/^[^a-zA-Z]+/,"").replace(/[^a-zA-Z0-9]([a-zA-Z0-9-])/g,((e,t)=>t.toUpperCase())))(t)]=n.replace(/^['"]/,"").replace(/['"]$/,"")})),r}_parseStyles(e,t){if(!t)return{};let r={};for(let n=0,i=t.length;n<i;n++){let i=t[n];i&&!c.instanceOf(i,"number","boolean","bigint","function")&&(r=c.instanceOf(i,"string")?Object.assign(r,this._parseCSSStyleString(e,i)):Object.assign(r,i))}return r}_flattenStyles(e,t){let r=this._flattenAndFilterStyles(e,t);return r?(Array.isArray(r)||(r=[r]),this._parseStyles(e,r)):{}}bindEventMethod(e,t,r,n,i,o){let s=n||[],a=r.substring(2).toLowerCase(),l=this.eventBindings.get(t);if(l){let e=l.get(a);e&&(t.removeEventListener(a,e.callback),l.delete(a))}else l=new Map,this.eventBindings.set(t,l);let c={callback:e=>i.call(t,{target:t,propName:r,event:e,props:o}),eventName:a,extraArgs:s};l.set(a,c),t.addEventListener(a,c.callback,...s)}createNativeElement(e,t){return this.getDocument(e).createElement(t)}findNativeElement(e,t){return this.getDocument(e).querySelector(t)}applyElementStyle(e,t,r,n,i,o){let s=i;(null==s||!1===s||!0===s||Object.is(s,1/0)||Object.is(s,NaN))&&(s="unset"),("number"==typeof s||"bigint"==typeof s||s instanceof Number)&&(s=`${s}px`),r[n]!==s&&(o[n]={previous:r[n],current:s},r[n]=s)}applyElementStyles(e,t,r,n){if(!t||!r)return;let i=Object.keys(r).sort(((e,t)=>e.length!==t.length?Math.sign(e.length-t.length):e===t?0:e<t?-1:1)),o={},s=t.style;for(let n=0,a=i.length;n<a;n++){let a=i[n];if(!(a in s))continue;let l=r[a];this.applyElementStyle(e,t,s,a,l,o)}let a=Object.keys(o);if(a.length>0){let e={},t={};for(let r=0,n=a.length;r<n;r++){let n=a[r],i=o[n];e[n]=i.previous,t[n]=i.current}n.style={previous:e,current:t}}}formatElementProps(e,t,r){return r||{}}handleElementProperty(e,t,r,n,i){if(!(r in t))return!1;if(!/^(scrollLeft|scrollTop|value|checked|disabled|max|min|maxLength|minLength|multiple|pattern|readonly|required)$/.test(r))return!1;let o=t[r];return o!==n&&(i[r]={previous:o,current:n},t[r]=n),!0}formatToAttributeName(e){return e.replace(/([a-z0-9]|^)([A-Z])/g,((e,t,r)=>`${t}-${r}`)).toLowerCase()}formatFromAttributeName(e){return e.replace(/-[a-z]/g,(e=>e.substring(1).toUpperCase()))}updateElementAttributes(e,t,r){let n=Object.assign({},r||{});Object.prototype.hasOwnProperty.call(n,"style")?n.style=this._flattenStyles(e,n.style):n.style={},n=this.formatElementProps(e,t,n);let i={},o=[],s=Object.keys(n),a=t.getAttributeNames().reduce(((e,r)=>{let s=t.getAttribute(r),a=this.formatFromAttributeName(r);return Object.prototype.hasOwnProperty.call(n,a)||(o.push(r),i[a]={previous:s,current:void 0}),e[a]=s,e}),{});for(let r=0,o=s.length;r<o;r++){let o=s[r];if(/^on[A-Z].*ExtraArgs$/.test(o))continue;if(/^(outerHTML)$/.test(o))continue;let l=n[o];if((l instanceof Boolean||l instanceof Number||l instanceof String)&&(l=l.valueOf()),"style"===o){this.applyElementStyles(e,t,l,i);continue}if("innerHTML"===o){t.innerHTML=null==l?"":l.toString();continue}if(this.handleElementProperty(e,t,o,l,i))continue;let c=typeof l;if("symbol"===c)l=l.toString();else if("boolean"===c||"number"===c||"string"===c||"bigint"===c)l=""+l;else{if("function"===c&&/^on[A-Z]/.test(o)){this.bindEventMethod(e,t,o,n[`${o}ExtraArgs`],l,n);continue}if(null!=l)continue}let u=a[o];u!==l&&(i[o]={previous:u,current:l},null==l?t.removeAttribute(this.formatToAttributeName(o)):t.setAttribute(this.formatToAttributeName(o),l))}for(let e=0,r=o.length;e<r;e++)t.removeAttribute(o[e]);return i}destroyNativeElement(e,t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)}createTextElement(e,t){return this.getDocument(e).createTextNode(""+t)}updateTextElement(e,t,r){let n=""+r,i=t.nodeValue;return i!==n&&(t.nodeValue=n,{previous:i,current:n})}buildIncomingElements(e,t){return c.flattenArray(t).filter((e=>null!=e&&!Object.is(e,NaN)&&!Object.is(e,1/0))).map((t=>{let r,n=null!=t.id?this.getElementFromCache(t):null;if(n)return n;if(t.type===f.TYPE)r=this.createNativeElement(e,t.value);else if(t.type===h.TYPE)r=this.createTextElement(e,t.value);else{if(t.type!==_.TYPE)throw new TypeError(`HTMLRenderer::updateElementChildren: Unsupported virtual element type detected: ${t}`);r=this.findNativeElement(e,t.value)}return{...t,element:r}}))}updateElementChildren(e,t,r,n){let i=r,{element:o}=this.getElementFromCache(t)||{};if(!o){if(!t)return!1;let[r]=this.buildIncomingElements(e,[t]);o=r&&r.element,o&&this.addElementToCache(r)}try{const emitAddToDOMEvent=e=>{e&&"function"==typeof e.dispatchEvent&&e.dispatchEvent(new Event("addtodom"))},emitRemoveFromDOMEvent=e=>{e&&"function"==typeof e.dispatchEvent&&e.dispatchEvent(new Event("removefromdom"))};null==i||Object.is(i,NaN)||Object.is(i,1/0)?i=[]:Array.isArray(i)||(i=[i]);let t=Array.from(o.childNodes||[]),r=this.buildIncomingElements(e,i),n=!1,s=new Map,a=new Map;for(let e=0,r=t.length;e<r;e++){let r=t[e],n=this.getElementFromCache(r);s.set(n.element,n)}for(let e=0,t=r.length;e<t;e++){let t=r[e];a.set(t.element,t)}for(let[t,r]of s)a.has(t)||(n=!0,this.destroyNativeElement(e,t,r),this.removeElementFromCache(r),r.props&&"function"==typeof r.props.ref&&r.props.ref.call(r.element,null,r.element),emitRemoveFromDOMEvent(t));for(let[t,r]of a)if(s.has(t))if(t.nodeType===Element.ELEMENT_NODE){let i=this.updateElementAttributes(e,t,r.props);i&&!n&&Object.keys(i).length>0&&(n=!0)}else t.nodeType===Element.TEXT_NODE&&this.updateTextElement(e,t,r.value);else n=!0,o.appendChild(t),this.addElementToCache(r),t.offsetWidth,t.nodeType===Element.ELEMENT_NODE&&this.updateElementAttributes(e,t,r.props),r.props&&"function"==typeof r.props.ref&&r.props.ref.call(r.element,r.element,null),emitAddToDOMEvent(t);return n}catch(e){console.error(e)}}}})();var __webpack_exports__$=__webpack_exports__.$,__webpack_exports__Component=__webpack_exports__.wA,__webpack_exports__Components=__webpack_exports__.z8,__webpack_exports__DOMRenderer=__webpack_exports__.q$,__webpack_exports__HTMLRenderer=__webpack_exports__.MD,__webpack_exports__Jibs=__webpack_exports__.El,__webpack_exports__Renderers=__webpack_exports__.pv,__webpack_exports__Utils=__webpack_exports__.cQ,__webpack_exports__addResourceHandler=__webpack_exports__.Y_,__webpack_exports__addResourceResolver=__webpack_exports__.BU,__webpack_exports__cssHandler=__webpack_exports__.gK,__webpack_exports__deadbeef=__webpack_exports__.Be,__webpack_exports__factory=__webpack_exports__.d5,__webpack_exports__javascriptHandler=__webpack_exports__.zF,__webpack_exports__load=__webpack_exports__.zD,__webpack_exports__removeResourceHandler=__webpack_exports__.e$,__webpack_exports__removeResourceResolver=__webpack_exports__.js,__webpack_exports__resolveResourcePath=__webpack_exports__.LB;export{__webpack_exports__$ as $,__webpack_exports__Component as Component,__webpack_exports__Components as Components,__webpack_exports__DOMRenderer as DOMRenderer,__webpack_exports__HTMLRenderer as HTMLRenderer,__webpack_exports__Jibs as Jibs,__webpack_exports__Renderers as Renderers,__webpack_exports__Utils as Utils,__webpack_exports__addResourceHandler as addResourceHandler,__webpack_exports__addResourceResolver as addResourceResolver,__webpack_exports__cssHandler as cssHandler,__webpack_exports__deadbeef as deadbeef,__webpack_exports__factory as factory,__webpack_exports__javascriptHandler as javascriptHandler,__webpack_exports__load as load,__webpack_exports__removeResourceHandler as removeResourceHandler,__webpack_exports__removeResourceResolver as removeResourceResolver,__webpack_exports__resolveResourcePath as resolveResourcePath};
//# sourceMappingURL=index.js.map