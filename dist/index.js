var __webpack_modules__={515:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BU:()=>addResourceResolver,LB:()=>resolveResourcePath,Y_:()=>addResourceHandler,e$:()=>removeResourceHandler,gK:()=>cssHandler,js:()=>removeResourceResolver,zD:()=>load,zF:()=>javascriptHandler});const cacheMap=new Map,resourceResolvers=new Set,resourceHandlers=new Set;function addResourceResolver(e){resourceResolvers.add(e)}function removeResourceResolver(e){resourceResolvers.delete(e)}function addResourceHandler(e,t){let r={test:e,callback:t};return resourceHandlers.add(r),r}function removeResourceHandler(e){resourceHandlers.delete(e)}function resolveResourcePath(e){let t=e;for(let e of resourceResolvers)t=e(t);return t}function javascriptHandler(resourcePath){return eval(`(import('${resourcePath.replace(/'/g,"\\'")}')).then((resource) => (resource.default || resource))`)}function cssHandler(e,{media:t="screen"}){return new Promise(((r,_)=>{let s=document.createElement("link");s.onload=()=>r(s),s.onerror=e=>_(e),s.setAttribute("rel","stylesheet"),s.setAttribute("type","text/css"),s.setAttribute("media",t),s.setAttribute("href",e),document.head.appendChild(s)}))}function handleResource(e,t){let r=t||{};for(let t of resourceHandlers){let{test:_,callback:s}=t;if(!_(e,r))continue;let o=s(e,r);if(o)return o}throw new Error(`jibs-html-renderer:load: Unknown resource "${e}". I don't know how to handle this resource type. Please add a resource handler to manage this resource type.`)}function load(e,t){let r=t||{},_=r.cache;if(_&&cacheMap.has(_))return cacheMap.get(_);let s=resolveResourcePath(e),o=cacheMap.get(s);if(o)return o;let n=handleResource(s,r);return cacheMap.set(s,n),_&&cacheMap.set(_,n),n}Object.defineProperties(load,{addResolver:{writable:!0,enumerable:!1,configurable:!0,value:addResourceResolver},removeResolver:{writable:!0,enumerable:!1,configurable:!0,value:removeResourceResolver},resolve:{writable:!0,enumerable:!1,configurable:!0,value:resolveResourcePath},javascriptHandler:{writable:!0,enumerable:!1,configurable:!0,value:javascriptHandler},cssHandler:{writable:!0,enumerable:!1,configurable:!0,value:cssHandler},_setResourceCache:{writable:!0,enumerable:!1,configurable:!0,value:(e,t)=>{let r=resolveResourcePath(e);return cacheMap.set(r,t),t}}}),addResourceHandler(((e,t)=>"javascript"===t.type||/\.[mc]?js$/i.test(e)),javascriptHandler),addResourceHandler(((e,t)=>"css"===t.type||/\.css$/i.test(e)),cssHandler),addResourceResolver((e=>{if(/^npm:\/\//i.test(e)){return`https://cdn.jsdelivr.net/npm/${e.replace(/^npm:\/\//i,"")}/dist/index.js`}return e}))}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var __webpack_exports__={};(()=>{__webpack_require__.d(__webpack_exports__,{$:()=>C,A:()=>q,IT:()=>z,o4:()=>X,q1:()=>Q,N_:()=>Z,p7:()=>ee,j0:()=>te,B:()=>re,tH:()=>_e,It:()=>se,ah:()=>oe,Cs:()=>ne,BR:()=>ae,q0:()=>ie,Wk:()=>pe,NE:()=>ce,HQ:()=>le,cO:()=>be,XW:()=>ue,xE:()=>de,wA:()=>M,z8:()=>L,D_:()=>he,Ee:()=>fe,DD:()=>we,fU:()=>me,WY:()=>xe,KJ:()=>ke,Ey:()=>ye,bg:()=>Te,DL:()=>Ee,q$:()=>U,DT:()=>Oe,EM:()=>ge,LP:()=>Ne,Og:()=>ve,QZ:()=>Re,zM:()=>Pe,lW:()=>Ae,Yc:()=>De,H1:()=>Se,H2:()=>je,H3:()=>Ie,H4:()=>Ce,H5:()=>Me,H6:()=>Le,yf:()=>Ue,zw:()=>Be,HR:()=>He,MD:()=>HTMLRenderer,I:()=>Fe,Bg:()=>Je,MY:()=>Ye,O4:()=>$e,N5:()=>Ge,El:()=>B,WB:()=>Ve,GP:()=>We,Md:()=>Ke,LI:()=>qe,Zj:()=>ze,PW:()=>Xe,nN:()=>Qe,Gp:()=>Ze,sk:()=>et,MW:()=>tt,Vw:()=>rt,w$:()=>_t,VY:()=>st,$l:()=>ot,OL:()=>nt,d0:()=>at,U8:()=>it,DC:()=>pt,P:()=>ct,Sh:()=>lt,Sp:()=>bt,ad:()=>ut,Q:()=>dt,RP:()=>ht,RT:()=>ft,dg:()=>wt,pv:()=>H,S:()=>mt,IA:()=>xt,xG:()=>kt,bQ:()=>yt,XD:()=>Tt,xF:()=>Et,HC:()=>Ot,Hx:()=>gt,tK:()=>Nt,jV:()=>vt,BI:()=>Rt,Dw:()=>Pt,ED:()=>At,Lh:()=>Dt,Fe:()=>St,nz:()=>jt,TD:()=>It,hv:()=>Ct,H:()=>Lt,eV:()=>Mt,AV:()=>Ut,TH:()=>Bt,hi:()=>Ht,nf:()=>Ft,R:()=>Jt,TR:()=>Yt,IK:()=>$t,Rh:()=>F,U:()=>Gt,UL:()=>Vt,cQ:()=>J,DE:()=>Wt,pX:()=>Kt,W8:()=>qt,Y_:()=>V.Y_,BU:()=>V.BU,gK:()=>V.gK,Be:()=>Y,d5:()=>G,zF:()=>V.zF,zD:()=>V.zD,e$:()=>V.e$,js:()=>V.js,LB:()=>V.LB});var e={d:(t,r)=>{for(var _ in r)e.o(r,_)&&!e.o(t,_)&&Object.defineProperty(t,_,{enumerable:!0,get:r[_]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};e.d(t,{$:()=>o,wA:()=>n,z8:()=>a,q$:()=>DOMRenderer,El:()=>i,pv:()=>p,Rh:()=>c,cQ:()=>l,Be:()=>b,d5:()=>u});var r={711:function(e,t,r){const _=("undefined"!=typeof window?window:r.g)||this,s=Symbol.for("@@deadbeefRefMap"),o=Symbol.for("@@deadbeefUniqueID"),n=_[s]?_[s]:new WeakMap,a=[];_[s]||(_[s]=n);let i=0n;function anythingToID(e,t){let r=e;(r instanceof Number||r instanceof String||r instanceof Boolean)&&(r=r.valueOf());let _=typeof r;if("number"===_&&0===r)return Object.is(r,-0)?"number:-0":"number:+0";if("symbol"===_)return`symbol:${r.toString()}`;if(null==r||"number"===_||"boolean"===_||"string"===_||"bigint"===_)return"number"===_?r<0?`number:${r}`:`number:+${r}`:"bigint"===_&&0n===r?"bigint:+0":`${_}:${r}`;let s=a.length>0&&function getHelperForValue(e){for(let t=0,r=a.length;t<r;t++){let{helper:r,generator:_}=a[t];if(r(e))return _}}(r);if(s)return anythingToID(s(r));if(o in r&&"function"==typeof r[o]&&(!t||!t.has(r))){let e=t||new Set;return e.add(r),anythingToID(r[o](),e)}if(!n.has(r)){let e=`${typeof r}:${++i}`;return n.set(r,e),e}return n.get(r)}function deadbeef(){let e=[arguments.length];for(let t=0,r=arguments.length;t<r;t++)e.push(anythingToID(arguments[t]));return e.join(":")}Object.defineProperties(deadbeef,{idSym:{writable:!0,enumerable:!1,configurable:!0,value:o},sorted:{writable:!0,enumerable:!1,configurable:!0,value:function deadbeefSorted(){let e=[arguments.length];for(let t=0,r=arguments.length;t<r;t++)e.push(anythingToID(arguments[t]));return e.sort().join(":")}},generateIDFor:{writable:!0,enumerable:!1,configurable:!0,value:function generateIDFor(e,t){a.push({helper:e,generator:t})}},removeIDGenerator:{writable:!0,enumerable:!1,configurable:!0,value:function removeIDGenerator(e){let t=a.findIndex((t=>t.helper===e));t<0||a.splice(t,1)}}}),e.exports=deadbeef}},_={};function __nested_webpack_require_1712__(e){var t=_[e];if(void 0!==t)return t.exports;var s=_[e]={exports:{}};return r[e].call(s.exports,s,s.exports,__nested_webpack_require_1712__),s.exports}__nested_webpack_require_1712__.d=(e,t)=>{for(var r in t)__nested_webpack_require_1712__.o(t,r)&&!__nested_webpack_require_1712__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__nested_webpack_require_1712__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__nested_webpack_require_1712__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__nested_webpack_require_1712__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var s={};(()=>{__nested_webpack_require_1712__.d(s,{$:()=>b,wA:()=>Component,z8:()=>A,El:()=>P,pv:()=>D,Rh:()=>Term,cQ:()=>e,Be:()=>t,d5:()=>factory});var e={};__nested_webpack_require_1712__.r(e),__nested_webpack_require_1712__.d(e,{bindMethods:()=>bindMethods,childrenDiffer:()=>childrenDiffer,fetchDeepProperty:()=>fetchDeepProperty,flattenArray:()=>flattenArray,generateUUID:()=>generateUUID,instanceOf:()=>instanceOf,isEmpty:()=>isEmpty,isIterableChild:()=>isIterableChild,isNotEmpty:()=>isNotEmpty,isValidChild:()=>isValidChild,iterate:()=>n,now:()=>now,propsDiffer:()=>propsDiffer,sizeOf:()=>sizeOf});var t=__nested_webpack_require_1712__(711);const r=Symbol.for("@jibsIterateStop"),_="undefined"!=typeof global?global:"undefined"!=typeof window?window:void 0;let o=1e6;function instanceOf(e){function testType(e,t){let r=t,s=typeof e;return r===_.String?r="string":r===_.Number?r="number":r===_.Boolean?r="boolean":r===_.Function?r="function":r===_.Array?r="array":r===_.Object?r="object":r===_.Promise?r="promise":r===_.BigInt?r="bigint":r===_.Map?r="map":r===_.WeakMap?r="weakmap":r===_.Set?r="set":r===_.Symbol?r="symbol":r===_.Buffer&&(r="buffer"),!("buffer"!==r||!_.Buffer||!_.Buffer.isBuffer(e))||("number"===r&&("number"===s||e instanceof Number||e.constructor&&"Number"===e.constructor.name)?!!isFinite(e):"object"!==r&&r===s||("object"===r?!!(e.constructor===Object.prototype.constructor||e.constructor&&"Object"===e.constructor.name)||"object"===s&&!e.constructor:!("array"!==r||!(Array.isArray(e)||e instanceof Array||e.constructor&&"Array"===e.constructor.name))||!("promise"!==r&&"deferred"!==r||!function isDeferredType(e){return!!(e instanceof Promise||e.constructor&&"Promise"===e.constructor.name)||"function"==typeof e.then&&"function"==typeof e.catch}(e))||!("string"!==r||!(e instanceof _.String||e.constructor&&"String"===e.constructor.name))||!("boolean"!==r||!(e instanceof _.Boolean||e.constructor&&"Boolean"===e.constructor.name))||!("map"!==r||!(e instanceof _.Map||e.constructor&&"Map"===e.constructor.name))||!("weakmap"!==r||!(e instanceof _.WeakMap||e.constructor&&"WeakMap"===e.constructor.name))||!("set"!==r||!(e instanceof _.Set||e.constructor&&"Set"===e.constructor.name))||"function"===r&&"function"===s||"function"==typeof r&&e instanceof r||!("string"!=typeof r||!e.constructor||e.constructor.name!==r)))}if(null==e)return!1;for(var t=1,r=arguments.length;t<r;t++)if(!0===testType(e,arguments[t]))return!0;return!1}function propsDiffer(e,t,r){if(e===t)return!1;if(typeof e!=typeof t)return!0;if(!e&&t)return!0;if(e&&!t)return!0;if(!e&&!t&&e!=e)return!0;let _=Object.keys(e).concat(Object.getOwnPropertySymbols(e)),s=Object.keys(t).concat(Object.getOwnPropertySymbols(t));if(_.length!==s.length)return!0;for(let o=0,n=_.length;o<n;o++){let n=_[o];if(r&&r.indexOf(n)>=0)continue;if(e[n]!==t[n])return!0;let a=s[o];if(!(r&&r.indexOf(a)||n===a||e[a]===t[a]))return!0}return!1}function sizeOf(e){return e?Object.is(1/0)?0:"number"==typeof e.length?e.length:Object.keys(e).length:0}function _iterate(e,t){if(!e||Object.is(1/0))return[];let _,s=[],o={collection:e,STOP:r};if(Array.isArray(e)){o.type="Array";for(let n=0,a=e.length;n<a&&(o.value=e[n],o.index=o.key=n,_=t.call(this,o),_!==r);n++)s.push(_)}else if("function"==typeof e.entries)if(e instanceof Set||"Set"===e.constructor.name){o.type="Set";let n=0;for(let a of e.values()){if(o.value=a,o.key=a,o.index=n++,_=t.call(this,o),_===r)break;s.push(_)}}else{o.type=e.constructor.name;let n=0;for(let[a,i]of e.entries()){if(o.value=i,o.key=a,o.index=n++,_=t.call(this,o),_===r)break;s.push(_)}}else{if(instanceOf(e,"boolean","number","bigint","function"))return;o.type=e.constructor?e.constructor.name:"Object";let n=Object.keys(e);for(let a=0,i=n.length;a<i;a++){let i=n[a],p=e[i];if(o.value=p,o.key=i,o.index=a,_=t.call(this,o),_===r)break;s.push(_)}}return s}Object.defineProperties(_iterate,{STOP:{writable:!1,enumerable:!1,configurable:!1,value:r}});const n=_iterate;function childrenDiffer(e,r){return e!==r&&(Array.isArray(e)?t(...e):t(e))!==(Array.isArray(r)?t(...r):t(r))}function fetchDeepProperty(e,t,r,_){if(null==e||Object.is(NaN,e)||Object.is(1/0,e))return _?[r,null]:r;if(null==t||Object.is(NaN,t)||Object.is(1/0,t))return _?[r,null]:r;let s;if(Array.isArray(t))s=t;else if("symbol"==typeof t)s=[t];else{let e=""+t,r=0,_=0;for(s=[];;){let t=e.indexOf(".",r);if(t<0){s.push(e.substring(_));break}"\\"!==e.charAt(t-1)?(s.push(e.substring(_,t)),_=r=t+1):r=t+1}}let o=s[s.length-1];if(0===s.length)return _?[r,o]:r;let n=e;for(let e=0,t=s.length;e<t;e++)if(n=n[s[e]],null==n)return _?[r,o]:r;return _?[n,o]:n}function bindMethods(e,t){let r=e,_=new Set;for(;r;){let e=Object.getOwnPropertyDescriptors(r),s=Object.keys(e).concat(Object.getOwnPropertySymbols(e));for(let e=0,t=s.length;e<t;e++){let t=s[e];if("constructor"===t)continue;if(_.has(t))continue;_.add(t);let o=r[t];Object.prototype.hasOwnProperty(t)&&Object.prototype[t]===o||"function"==typeof o&&(this[t]=o.bind(this))}if(r=Object.getPrototypeOf(r),r===Object.prototype)break;if(t&&t.indexOf(r)>=0)break}}function isEmpty(e){return!(null!=e&&(Object.is(e,1/0)||!Object.is(e,NaN)&&(instanceOf(e,"string")?/\S/.test(e):instanceOf(e,"number")&&isFinite(e)||instanceOf(e,"boolean","bigint","function")||0!==sizeOf(e))))}function isNotEmpty(e){return!isEmpty.call(this,e)}function flattenArray(e){if(!Array.isArray(e))return e;let t=[];for(let r=0,_=e.length;r<_;r++){let _=e[r];Array.isArray(_)?t=t.concat(flattenArray(_)):t.push(_)}return t}function isValidChild(e){return null!=e&&"boolean"!=typeof e&&!Object.is(e,1/0)&&!Object.is(e,NaN)}function isIterableChild(e){return null!=e&&!Object.is(e,NaN)&&!Object.is(e,1/0)&&(Array.isArray(e)||"object"==typeof e&&!instanceOf(e,"boolean","number","string"))}function now(){return"undefined"!=typeof performance&&"function"==typeof performance.now?performance.now():Date.now()}function generateUUID(){return o>9999999&&(o=1e6),`${Date.now()}.${o++}${Math.round(1e7*Math.random()).toString().padStart(20,"0")}`}class Jib{constructor(e,t,r){let _=e&&e.props?e.props:{};Object.defineProperties(this,{Type:{writable:!0,enumerable:!0,configurable:!0,value:e},props:{writable:!0,enumerable:!0,configurable:!0,value:{[l]:0,..._,...t||{}}},children:{writable:!0,enumerable:!0,configurable:!0,value:flattenArray(r)}})}}const a=Symbol.for("@jibs.barren"),i=Symbol.for("@jibs.proxy"),p=Symbol.for("@jibs.rawText"),c=Symbol.for("@jibs.jib"),l=Symbol.for("@jibs.childIndexProp");function factory(e){function $(r,_={}){if(isJibish(r))throw new TypeError("Received a jib but expected a component.");let s=null==r?i:r;function barren(...r){let o=r;function jib(){return instanceOf(s,"promise")||o.some((e=>instanceOf(e,"promise")))?Promise.all([s].concat(o)).then((t=>(s=t[0],o=t.slice(1),new e(s,_,o)))):new e(s,_,o)}return Object.defineProperties(jib,{[c]:{writable:!1,enumerable:!1,configurable:!1,value:!0},[t.idSym]:{writable:!1,enumerable:!1,configurable:!1,value:()=>s}}),jib}return Object.defineProperties(barren,{[a]:{writable:!1,enumerable:!1,configurable:!1,value:!0},[t.idSym]:{writable:!1,enumerable:!1,configurable:!1,value:()=>s}}),barren}return Object.defineProperties($,{remap:{writable:!1,enumerable:!1,configurable:!1,value:(e,t)=>{let r=e;if(null==r||Object.is(r,1/0)||Object.is(r,NaN))return r;isJibish(r)&&(r=constructJib(r));const finalizeMap=e=>{let t=e;return isJibish(t)?(t=constructJib(t),$(t.Type,t.props)(...t.children||[])):t};let _=t(r);return instanceOf(_,"promise")?_.then(finalizeMap):finalizeMap(_)}}}),$}const b=factory(Jib);function isJibish(e){return!("function"!=typeof e||!e[a]&&!e[c])||e instanceof Jib}function constructJib(e){if(e instanceof Jib)return e;if("function"==typeof e){if(e[a])return e()();if(e[c])return e()}throw new TypeError("constructJib: Provided value is not a Jib.")}async function resolveChildren(e){let t=e;instanceOf(t,"promise")&&(t=await t),(this.isIterableChild||isIterableChild).call(this,t)||!isJibish(t)&&!(this.isValidChild||isValidChild).call(this,t)||(t=[t]);let r=n(t,(async({value:e})=>{let t=instanceOf(e,"promise")?await e:e;return isJibish(t)?await constructJib(t):t}));return await Promise.all(r)}const u=Symbol.for("@jibs/events/listeners");class EventEmitter{constructor(){Object.defineProperties(this,{[u]:{writable:!1,enumerable:!1,configurable:!1,value:new Map}})}addListener(e,t){if("function"!=typeof t)throw new TypeError("Event listener must be a method");let r=this[u],_=r.get(e);return _||(_=[],r.set(e,_)),_.push(t),this}removeListener(e,t){if("function"!=typeof t)throw new TypeError("Event listener must be a method");let r=this[u].get(e);if(!r)return this;let _=r.indexOf(t);return _>=0&&r.splice(_,1),this}removeAllListeners(e){let t=this[u];return t.has(e)?(t.set(e,[]),this):this}emit(e,...t){let r=this[u].get(e);if(!r||0===r.length)return!1;for(let e=0,_=r.length;e<_;e++)r[e].apply(this,t);return!0}once(e,t){let func=(...r)=>(this.off(e,func),t(...r));return this.on(e,func)}on(e,t){return this.addListener(e,t)}off(e,t){return this.removeListener(e,t)}eventNames(){return Array.from(this[u].keys())}listenerCount(e){let t=this[u].get(e);return t?t.length:0}listeners(e){let t=this[u].get(e);return t?t.slice():[]}}const d="@jibs/component/event/update",h=Symbol.for("@jibs/component/queueUpdate"),f=Symbol.for("@jibs/component/flushUpdate"),w=Symbol.for("@jibs/component/__init"),m=Symbol.for("@jibs/component/skipStateUpdates"),x=Symbol.for("@jibs/component/pendingStateUpdate"),k=Symbol.for("@jibs/component/lastRenderTime"),y=Symbol.for("@jibs/component/previousState"),T=Symbol.for("@jibs/component/previousState"),E=new WeakMap;function isValidStateObject(e){if(null==e)return!1;if(Object.is(e,NaN))return!1;if(Object.is(e,1/0))return!1;if(e instanceof Boolean||e instanceof Number||e instanceof String)return!1;let t=typeof e;return!("string"===t||"number"===t||"boolean"===t||Array.isArray(e)||"undefined"!=typeof Buffer&&Buffer.isBuffer(e))}class Component extends EventEmitter{static UPDATE_EVENT=d;[h](){this[x]||(this[x]=Promise.resolve(),this[x].then(this[f].bind(this)))}[f](){this[x]&&(this.emit(d),this[x]=null)}[w](){this[m]=!1}constructor(e){super(),bindMethods.call(this,this.constructor.prototype);let t=e||{},r=Object.assign(Object.create(null),t.props||{}),_=(()=>{let e=Object.create(null);return new Proxy(e,{get:(e,t)=>e[t],set:(e,t,r)=>{let _=e[t];return _===r||(this[m]||this[h](),e[t]=r,this.onStateUpdated(t,r,_)),!0}})})();Object.defineProperties(this,{[m]:{writable:!0,enumerable:!1,configurable:!0,value:!0},[x]:{writable:!0,enumerable:!1,configurable:!0,value:Promise.resolve()},[k]:{writable:!0,enumerable:!1,configurable:!0,value:now()},[T]:{writable:!0,enumerable:!1,configurable:!0,value:{}},id:{writable:!1,enumerable:!1,configurable:!1,value:t.id},props:{writable:!0,enumerable:!1,configurable:!0,value:r},children:{writable:!0,enumerable:!1,configurable:!0,value:t.children||[]},context:{writable:!0,enumerable:!1,configurable:!0,value:t.context||Object.create(null)},state:{enumerable:!1,configurable:!0,get:()=>_,set:e=>{if(!isValidStateObject(e))throw new TypeError(`Invalid value for "this.state": "${e}". Provided "state" must be an iterable object.`);Object.assign(_,e)}}})}resolveChildren(e){return resolveChildren.call(this,e)}isJib(e){return isJibish(e)}constructJib(e){return constructJib(e)}pushRender(e){this.emit(d,e)}onPropUpdated(e,t,r){}onStateUpdated(e,t,r){}captureReference(e,t){let r=this[T][e];return r||(r=(r,_)=>{let s=r;"function"==typeof t&&(s=t.call(this,s,_)),Object.defineProperties(this,{[e]:{writable:!0,enumerable:!1,configurable:!0,value:s}})},"function"!=typeof t&&(this[T]=r),r)}forceUpdate(){this[h]()}getState(e,t){let r=this.state;if(0===arguments.length)return r;if(instanceOf(e,"object")){let t=Object.keys(e).concat(Object.getOwnPropertySymbols(e)),_={};for(let s=0,o=t.length;s<o;s++){let o=t[s],[n,a]=fetchDeepProperty(r,o,e[o],!0);null!=a&&(_[a]=n)}return _}return fetchDeepProperty(r,e,t)}setState(e){if(!isValidStateObject(e))throw new TypeError(`Invalid value for "this.setState": "${e}". Provided "state" must be an iterable object.`);Object.assign(this.state,e)}setStatePassive(e){if(!isValidStateObject(e))throw new TypeError(`Invalid value for "this.setStatePassive": "${e}". Provided "state" must be an iterable object.`);try{this[m]=!0,Object.assign(this.state,e)}finally{this[m]=!1}}shouldUpdate(){return!0}destroy(){delete this.state,delete this.props,delete this.context,delete this[T],this.clearAllDebounces()}renderWaiting(){}render(e){return e}updated(){}combineWith(e,...t){let r=new Set;for(let _=0,s=t.length;_<s;_++){let s=t[_];if(s)if(instanceOf(s,"string")){let t=s.split(e).filter(isNotEmpty);for(let e=0,_=t.length;e<_;e++){let _=t[e];r.add(_)}}else if(Array.isArray(s)){let e=s.filter((e=>!!e&&!!instanceOf(e,"string")&&isNotEmpty(e)));for(let t=0,_=e.length;t<_;t++){let _=e[t];r.add(_)}}else if(instanceOf(s,"object")){let e=Object.keys(s);for(let t=0,_=e.length;t<_;t++){let _=e[t];s[_]?r.add(_):r.delete(_)}}}return Array.from(r).join(e||"")}classes(...e){return this.combineWith(" ",...e)}extractChildren(e,t,r){let _=r||{},s={},o=e,n=Array.isArray(o);return s.remainingChildren=t.filter((e=>!(e=>{let t=e.Type;if(instanceOf(t,"string")&&(t=t.toLowerCase()),n)for(let r=0,n=o.length;r<n;r++){let n=o[r];if(instanceOf(n,"string")&&(n=n.toLowerCase()),t===n)return s[n]&&_.multiple?(Array.isArray(s[n])||(s[n]=[s[n]]),s[n].push(e)):s[n]=e,!0}else{let r=Object.keys(o);for(let n=0,a=r.length;n<a;n++){let a,i=r[n],p=o[i];if(a=instanceOf(p,RegExp)?p.test(t):instanceOf(p,"string")?p.toLowerCase()===t:p===t,a)return s[p]&&_.multiple?(Array.isArray(s[p])||(s[p]=[s[p]]),s[p].push(e)):s[p]=e,!0}}return!1})(e))),s}mapChildren(e,t){let r=Array.isArray(t)?t:[t];return r.map((t=>{if(!t)return t;let _=t.Type;if(!instanceOf(_,"string"))return t;_=_.toLowerCase();let s=Object.keys(e);for(let o=0,n=s.length;o<n;o++){let n=s[o];if(n.toLowerCase()!==_)continue;let a=e[n];if(a)return a.call(this,t,o,r)}return t}))}debounce(e,t,r){const clearPendingTimeout=()=>{s&&s.timeout&&(clearTimeout(s.timeout),s.timeout=null)};var _=r||""+e;this.debounceTimers||Object.defineProperty(this,"debounceTimers",{writable:!0,enumerable:!1,configurable:!0,value:{}});var s=this.debounceTimers[_];s||(s=this.debounceTimers[_]={}),s.func=e,clearPendingTimeout();var o=s.promise;if(!o||!o.isPending()){let e,t="pending";(o=s.promise=new Promise((t=>{e=t}))).resolve=()=>{if("pending"===t)if(t="fulfilled",clearPendingTimeout(),this.debounceTimers[_]=null,"function"==typeof s.func){var r=s.func.call(this);r instanceof Promise||r&&"function"==typeof r.then?r.then((t=>e(t))):e(r)}else e()},o.cancel=()=>{t="rejected",clearPendingTimeout(),this.debounceTimers[_]=null,o.resolve()},o.isPending=()=>"pending"===t}return s.timeout=setTimeout(o.resolve,null==t?250:t),o}clearDebounce(e){if(this.debounceTimers){var t=this.debounceTimers[e];null!=t&&(t.timeout&&clearTimeout(t.timeout),t.promise&&t.promise.cancel())}}clearAllDebounces(){let e=this.debounceTimers||{},t=Object.keys(e);for(let e=0,r=t.length;e<r;e++)this.clearDebounce(t[e])}getElementData(e){let t=E.get(e);return t||(t={},E.set(e,t)),t}memoize(e){let r,_;return function(...s){let o=t(...s);if(o!==r){let t=e.apply(this,s);r=o,_=t}return _}}toTerm(e){if(isJibish(e)){let t=constructJib(e);return t.Type===Term||t.Type&&t.Type[O]?e:b(Term,t.props)(...t.children)}return"string"==typeof e?b(Term)(e):e}}const O=Symbol.for("@jibs/isTerm");class Term extends Component{resolveTerm(e){let t=this.context._termResolver;if("function"==typeof t)return t.call(this,e);let r=e.children||[];return r[r.length-1]||""}render(e){let t=this.resolveTerm({children:e,props:this.props});return b("SPAN",this.props)(t)}}Term[O]=!0;const g=Symbol.for("@jibs/node/contextID");class RootNode{static CONTEXT_ID=g;constructor(e,t,r,_){let s=null;!1!==this.constructor.HAS_CONTEXT&&(e||this.createContext)&&(s=(e||this).createContext(r,this.onContextUpdate?this.onContextUpdate:void 0,this)),Object.defineProperties(this,{TYPE:{enumerable:!1,configurable:!1,get:()=>this.constructor.TYPE,set:()=>{}},id:{writable:!1,enumerable:!1,configurable:!1,value:generateUUID()},renderer:{writable:!0,enumerable:!1,configurable:!0,value:e},parentNode:{writable:!0,enumerable:!1,configurable:!0,value:t},childNodes:{writable:!0,enumerable:!1,configurable:!0,value:new Map},context:{enumerable:!1,configurable:!0,get:()=>s,set:()=>{}},destroying:{writable:!0,enumerable:!1,configurable:!0,value:!1},renderPromise:{writable:!0,enumerable:!1,configurable:!0,value:null},renderFrame:{writable:!0,enumerable:!1,configurable:!0,value:0},jib:{writable:!0,enumerable:!1,configurable:!0,value:_},nativeElement:{writable:!0,enumerable:!1,configurable:!0,value:null}})}resolveChildren(e){return resolveChildren.call(this,e)}isJib(e){return isJibish(e)}constructJib(e){return constructJib(e)}getCacheKey(){let{Type:e,props:r}=this.jib||{};return t(e,r.key)}updateJib(e){this.jib=e}clearChildren(){this.childNodes.clear()}removeChild(e){let t=e.getCacheKey();this.childNodes.delete(t)}addChild(e,t){let r=t||e.getCacheKey();this.childNodes.set(r,e)}getChild(e){return this.childNodes.get(e)}getChildren(){return this.childNodes}getThisNodeOrChildNodes(){return this}getChildrenNodes(){let e=[];for(let t of this.childNodes.values())e=e.concat(t.getThisNodeOrChildNodes());return e.filter(Boolean)}async destroy(e){if(!e&&this.destroying)return;this.destroying=!0,this.renderPromise&&await this.renderPromise,await this.destroyFromDOM(this.context,this);let t=[];for(let e of this.childNodes.values())t.push(e.destroy());this.childNodes.clear(),await Promise.all(t),this.nativeElement=null,this.parentNode=null,this.context=null,this.jib=null}isValidChild(e){return isValidChild(e)}isIterableChild(e){return isIterableChild(e)}propsDiffer(e,t,r){return propsDiffer(e,t,r)}childrenDiffer(e,t){return childrenDiffer(e,t)}async render(...e){if(this.destroying)return;this.renderFrame++;let t=this.renderFrame;return"function"==typeof this._render?this.renderPromise=this._render(...e).then((async e=>(t>=this.renderFrame&&await this.syncDOM(this.context,this),this.renderPromise=null,e))).catch((e=>{throw this.renderPromise=null,e})):await this.syncDOM(this.context,this),this.renderPromise}getParentID(){if(this.parentNode)return this.parentNode.id}async destroyFromDOM(e,t){if(this.renderer)return await this.renderer.destroyFromDOM(e,t)}async syncDOM(e,t){if(this.renderer)return await this.renderer.syncDOM(e,t)}}const N=1n;let v=N;const R=Symbol.for("@jibsForceReflow"),P={JIB_BARREN:a,JIB_PROXY:i,JIB_RAW_TEXT:p,JIB:c,JIB_CHILD_INDEX_PROP:l,Jib,isJibish,constructJib,resolveChildren},A={UPDATE_EVENT:d,QUEUE_UPDATE_METHOD:h,FLUSH_UPDATE_METHOD:f,INIT_METHOD:w,SKIP_STATE_UPDATES:m,PENDING_STATE_UPDATE:x,LAST_RENDER_TIME:k,PREVIOUS_STATE:y},D={CONTEXT_ID:RootNode.CONTEXT_ID,FORCE_REFLOW:R,RootNode,Renderer:class Renderer extends RootNode{static RootNode=RootNode;constructor(e){super(null,null,null),Object.defineProperties(this,{options:{writable:!1,enumerable:!1,configurable:!1,value:e||{}}}),this.renderer=this,"function"==typeof e.termResolver&&(this.context._termResolver=e.termResolver)}getOptions(){return this.options}resolveTerm(e){let{termResolver:t}=this.getOptions();if("function"==typeof t)return t.call(this,e);let r=e.children||[];return r[r.length-1]||""}createContext(e,t,r){let _=Object.create(null),s=e?e[g]:N;return new Proxy(_,{get:(t,r)=>{if(r===g){let t=e?e[g]:N;return t>s?t:s}return Object.prototype.hasOwnProperty.call(t,r)?t[r]:e?e[r]:void 0},set:(e,_,o)=>(_===g||e[_]===o||(s=++v,e[_]=o,"function"==typeof t&&t.call(r,r)),!0)})}}}})();var o=s.$,n=s.wA,a=s.z8,i=s.El,p=s.pv,c=s.Rh,l=s.cQ,b=s.Be,u=s.d5;const{isJibish:d,constructJib:h,JIB_PROXY:f,JIB_RAW_TEXT:w,JIB_CHILD_INDEX_PROP:m}=i,{RootNode:x}=p;class FragmentNode extends x{static TYPE=11;getThisNodeOrChildNodes(){return this.getChildrenNodes()}async _render(){let e=new Map,t=this.renderFrame,{children:r}=this.jib||{};if(l.instanceOf(r,"promise")&&(r=await r),this.destroying||t<this.renderFrame)return;this.isIterableChild(r)||!d(r)&&!this.isValidChild(r)||(r=[r]);const getIndexForType=t=>{let r=(e.get(t)||0)+1;return e.set(t,r),r};let _=!1,s=l.iterate(r,(({value:e,key:r,index:s,STOP:o})=>_||this.destroying||t<this.renderFrame?o:(async()=>{let o=l.instanceOf(e,"promise")?await e:e;if(l.isEmpty(o)||Object.is(o,NaN)||Object.is(o,1/0))return;if(this.destroying||t<this.renderFrame)return void(_=!0);let n,a,i=d(o);if(!i&&this.isIterableChild(o)?a={Type:f,children:o,props:{key:`@jib/internal_fragment_${getIndexForType(f)}`}}:!i&&this.isValidChild(o)?(o="function"==typeof o.valueOf?o.valueOf():o,a={Type:w,children:o,props:{key:`@jib/internal_text_${getIndexForType(w)}`}}):i&&(a=h(o),l.instanceOf(a,"promise")&&(a=await a)),this.destroying||t<this.renderFrame)return void(_=!0);let p,{Type:c,props:u}=a;p=s!==r?r:null==u.key||Object.is(u.key,NaN)||Object.is(u.key,1/0)?`@jib/internal_key_${getIndexForType(c)}`:u.key,u[m]=s,u.key=p,a.props=u;let x=b(c,u.key),k=this.getChild(x);return k?(n=!1,k.updateJib(a)):(n=!0,k=this.renderer.constructNodeFromJib(a,this,this.context)),await k.render(),{node:k,cacheKey:x,created:n}})())),o=await Promise.all(s);o=o.filter((e=>!!e));let n=[];if(this.destroying||t<this.renderFrame){for(let e=0,t=o.length;e<t;e++){let t=o[e],{node:r,created:_}=t;_&&r&&n.push(r.destroy())}return void(n.length>0&&await Promise.all(n))}let a=new Map;for(let e of o){let{cacheKey:t,node:r}=e;a.set(t,r)}let i=[];for(let[e,t]of this.getChildren())a.has(e)||(i.push(t),this.removeChild(t));this.clearChildren();for(let[e,t]of a)this.addChild(t,e);a.clear();for(let e=0,t=i.length;e<t;e++){let t=i[e];n.push(t.destroy())}n.length>0&&await Promise.all(n)}async destroyFromDOM(e,t){if(t!==this&&this.parentNode)return await this.parentNode.destroyFromDOM(e,t)}async syncDOM(e,t){if(!this.parentNode)return;let r=e,_=t;return _===this&&(r=this.parentNode.context,_=this.parentNode),await this.parentNode.syncDOM(r,_)}}const{RootNode:k}=p;class TextNode extends k{static TYPE=3;static HAS_CONTEXT=!1}const{JIB_PROXY:y}=i,{RootNode:T}=p;class NativeNode extends T{static TYPE=1;constructor(...e){super(...e),Object.defineProperties(this,{fragmentNode:{writable:!0,enumerable:!1,configurable:!0,value:null}})}async destroy(){if(!this.destroying)return this.destroying=!0,await this.destroyFragmentNode(),await super.destroy(!0)}async destroyFragmentNode(){this.fragmentNode&&(this.removeChild(this.fragmentNode),await this.fragmentNode.destroy(),this.fragmentNode=null)}async _render(){if(this.destroying)return;let{Type:e,props:t,children:r}=this.jib||{};if(e)if(Object.prototype.hasOwnProperty.call(t,"innerHTML"))await this.destroyFragmentNode();else{let e={Type:y,props:{},children:r},t=this.fragmentNode;t?this.fragmentNode.updateJib(e):(t=this.fragmentNode=this.renderer.constructNodeFromJib(e,this,this.context),this.addChild(t)),await t.render()}}}class PortalNode extends NativeNode{static TYPE=15}const{JIB_PROXY:E,JIB_CHILD_INDEX_PROP:O}=i,{CONTEXT_ID:g,RootNode:N}=p,{INIT_METHOD:v,UPDATE_EVENT:R,PENDING_STATE_UPDATE:P,LAST_RENDER_TIME:A,SKIP_STATE_UPDATES:D}=a;class ComponentNode extends N{static TYPE=20;constructor(...e){super(...e),Object.defineProperties(this,{fragmentNode:{writable:!0,enumerable:!1,configurable:!0,value:null},component:{writable:!0,enumerable:!1,configurable:!0,value:null},pendingContextUpdate:{writable:!0,enumerable:!1,configurable:!0,value:null},previousState:{writable:!0,enumerable:!1,configurable:!0,value:{}},lastContextID:{writable:!0,enumerable:!1,configurable:!0,value:this.context[g]||1n},cachedRenderResult:{writable:!0,enumerable:!1,configurable:!0,value:null}})}getThisNodeOrChildNodes(){if(this.fragmentNode)return this.fragmentNode.getChildrenNodes()}mergeComponentProps(e,t){return Object.assign(Object.create(null),e||{},t)}firePropUpdates(e,t){let r=t||{},_=new Set(Object.keys(r).concat(Object.getOwnPropertySymbols(r))),s=e||{},o=Object.keys(s).concat(Object.getOwnPropertySymbols(s));for(let e=0,t=o.length;e<t;e++)_.add(o[e]);for(let e of _){let t=s[e],_=r[e];t!==_&&this.component.onPropUpdated(e,_,t)}}shouldRender(e,t){let r=this.component;if(!r)return!0;if(this.lastContextID<this.context[g])return this.lastContextID=this.context[g],this.previousState=Object.assign({},r.state),this.firePropUpdates(r.props,e),r.props=this.mergeComponentProps(r.props,e),!0;if(this.childrenDiffer(r.children,t))return this.component.children=t.slice(),this.previousState=Object.assign({},r.state),this.firePropUpdates(r.props,e),r.props=this.mergeComponentProps(r.props,e),!0;let _=this.previousState||{};return this.propsDiffer(r.props,e,["ref","key",O],!0)&&r.shouldUpdate(e,_)?(this.previousState=Object.assign({},r.state),this.firePropUpdates(r.props,e),r.props=this.mergeComponentProps(r.props,e),!0):!(!this.propsDiffer(_,r.state)||!r.shouldUpdate(e,_)||(this.previousState=Object.assign({},r.state),0))}async destroy(){if(!this.destroying)return this.destroying=!0,this.component&&(this.jib&&this.jib.props&&"function"==typeof this.jib.props.ref&&this.jib.props.ref.call(this.component,null,this.component),await this.component.destroy(),this.component=null),this.fragmentNode&&(this.removeChild(this.fragmentNode),await this.fragmentNode.destroy(),this.fragmentNode=null),this.cachedRenderResult=null,this.previousState=null,await super.destroy(!0)}onContextUpdate(){if(this.component&&!this.component[P])return this.pendingContextUpdate||(this.pendingContextUpdate=Promise.resolve().then((()=>{this.destroying||!this.component||this.component[P]||(this.pendingContextUpdate=null,this.render())}))),this.pendingContextUpdate}async _render(e){let t=this.renderFrame,{Type:r,props:_,children:s}=this.jib||{};if(!r)return;s=this.jib.children=await this.resolveChildren(s);const finalizeRender=async(e,t)=>{if(this.destroying||t<this.renderFrame||!this.component)return;this.cachedRenderResult=e,this.component[A]=l.now();let r=this.fragmentNode,_={Type:E,props:{},children:e};r?r.updateJib(_):(r=this.fragmentNode=this.renderer.constructNodeFromJib(_,this,this.context),this.addChild(r)),await r.render()},handleRenderError=e=>{if(this.destroying||t<this.renderFrame)return;let r;console.error(e),this.component&&(this.component[A]=l.now());try{r=this.component&&"function"==typeof this.component.renderErrorState?this.component.renderErrorState(e):[`${e.message}\n${e.stack}`]}catch(t){r=[`${e.message}\n${e.stack}`]}return finalizeRender(r,t)};if(!(this.destroying||t<this.renderFrame))try{if(!0!==e&&this.component&&!this.shouldRender(_,s))return;let o=this.component;o||(o=this.component=new r({...this.jib||{},props:this.mergeComponentProps(null,_),context:this.context,id:this.id}),"function"==typeof o[v]&&o[v](),o.on(R,(e=>{e?(this.renderFrame++,finalizeRender(e,this.renderFrame)):this.render(!0)})),_&&"function"==typeof _.ref&&_.ref.call(o,o,null)),this.component[P]&&(this.component[P]=null);let n=this.component.render(s);if(l.instanceOf(n,"promise")){let r=this.component.renderWaiting(this.cachedRenderResult),_=!1,s=setTimeout((async()=>{s=null,l.instanceOf(r,"promise")&&(r=await r),_||await finalizeRender(r,t)}),5);try{n=await n,_=!0,s&&(clearTimeout(s),s=null),await finalizeRender(n,t)}catch(e){await handleRenderError(e)}}else await finalizeRender(n,t)}catch(e){await handleRenderError(e)}}async destroyFromDOM(e,t){if(!this.parentNode)return;let r=e,_=t;return _===this&&(r=this.parentNode.context,_=this.parentNode),await this.parentNode.destroyFromDOM(r,_)}async syncDOM(e,t){if(!this.parentNode)return;let r=e,_=t;return _===this&&(r=this.parentNode.context,_=this.parentNode),await this.parentNode.syncDOM(r,_)}}const{Renderer:S}=p,{JIB_PROXY:j,JIB_RAW_TEXT:I}=i;class DOMRenderer extends S{static TYPE=9;static FragmentNode=FragmentNode;static TextNode=TextNode;static NativeNode=NativeNode;static PortalNode=PortalNode;static ComponentNode=ComponentNode;constructor(e,t){super(t),Object.defineProperties(this,{rootNode:{writable:!0,enumerable:!1,configurable:!0,value:null},jib:{writable:!0,enumerable:!1,configurable:!0,value:{Type:e,props:{},children:[]}}})}isPortalNode(e){return/[^a-zA-Z0-9:]/.test(e)}constructNodeFromJib(e,t,r){let{Type:_}=e;return"function"==typeof _?new this.constructor.ComponentNode(this,t,r,e):"string"==typeof _?this.isPortalNode(_)?new this.constructor.PortalNode(this,t,r,e):new this.constructor.NativeNode(this,t,r,e):null==_||_===j?new this.constructor.FragmentNode(this,t,r,e):_===I?new this.constructor.TextNode(this,t,r,e):void 0}async destroy(){if(!this.destroying)return this.destroying=!0,this.rootNode&&(await this.rootNode.destroy(),this.rootNode=null),await super.destroy(!0)}async render(e){if(!e)throw new TypeError(`${this.constructor.name}::render: A jib must be provided.`);return this.updateJib({...this.jib,children:e}),super.render()}async _render(){if(this.destroying)return;let e=this.renderFrame,t=this.rootNode,r={Type:j,props:{},children:this.jib};t?t.updateJib(r):t=this.rootNode=this.constructNodeFromJib(this.jib,this,this.context),await t.render(),e>=this.renderFrame&&this.syncDOM(this.context,this.rootNode)}async destroyFromDOM(e,t){return!!t&&(t===this?!!this.rootNode&&await this.destroyNode(e,this.rootNode):await this.destroyNode(e,t))}async syncDOM(e,t){return!!t&&(t===this?!!this.rootNode&&await this.syncNode(e,this.rootNode):await this.syncNode(e,t))}async addNode(e,t){if(!t)return!1;await this.attachChildren(e,t,!1);let r=this.parentNode;return r&&await this.attachChildren(e,r,!0),!0}async constructNativeElementFromNode(e,t){if(!t)return!1;if(t.TYPE===NativeNode.TYPE)return await this.createNativeElement(e,t);if(t.TYPE===TextNode.TYPE)return await this.createTextElement(e,t);if(t.TYPE===PortalNode.TYPE||t.TYPE===DOMRenderer.TYPE)return await this.createPortalElement(e,t);throw new TypeError(`${this.constructor.name}::constructNativeElementFromNode: Unsupported virtual element type detected: ${t.TYPE}`)}async updateNode(e,t){if(!t)return!1;let r;if(t.TYPE===NativeNode.TYPE)r=await this.updateNativeElement(e,t);else if(t.TYPE===TextNode.TYPE)r=await this.updateTextElement(e,t);else{if(t.TYPE!==PortalNode.TYPE&&t.TYPE!==DOMRenderer.TYPE)throw new TypeError(`${this.constructor.name}::syncNode: Unsupported virtual element type detected: ${t.TYPE}`);r=await this.updatePortalElement(e,t)}return await this.attachChildren(e,t,!0),r}async syncNode(e,t){if(!t)return!1;let r=t&&t.nativeElement;return r?t?await this.updateNode(e,t):void 0:(r=await this.constructNativeElementFromNode(e,t),t.nativeElement=r,t.jib&&t.jib.props&&"function"==typeof t.jib.props.ref&&t.jib.props.ref.call(t,r,null),await this.addNode(e,t))}async destroyNode(e,t){if(!t)return!1;let r=!1;return t&&t.nativeElement&&(t.TYPE===NativeNode.TYPE?r=await this.destroyNativeElement(e,t):t.TYPE===TextNode.TYPE?r=await this.destroyTextElement(e,t):t.TYPE===PortalNode.TYPE||t.TYPE===DOMRenderer.TYPE?r=await this.destroyPortalElement(e,t):new TypeError(`${this.constructor.name}::syncNode: Unsupported virtual element type detected: ${t.TYPE}`)),t&&await this.detachChildren(e,t),r}findNativeElement(e,t){}createNativeElement(e,t){return{type:"element",value:t.value}}updateNativeElement(e,t){}createTextElement(e,t){return{type:"text",value:t.value}}updateTextElement(e,t){return!1}createPortalElement(e,t){return{type:"portal",value:t.value}}updatePortalElement(e,t){return!1}destroyNativeElement(e,t){}destroyTextElement(e,t){}destroyPortalElement(e,t){}forceNativeElementReflow(e,t,r){}async attachChildren(e,t,r){let _=t&&t.nativeElement;if(!_)return!1;let s=Array.from(_.childNodes),o=0,n=!0;for(let a of t.getChildrenNodes()){let t=a.nativeElement;if(t){if(!0!==r&&await this.updateNode(e,a),n){if(s[o++]===t)continue;n=!1}await _.appendChild(t),this.forceNativeElementReflow(e,a,t)}}return!0}async detachChildren(e,t){if(!t||!t.nativeElement)return!1;let r=[];for(let _ of t.getChildrenNodes())r.push(this.destroyNode(e,_));return await Promise.all(r),!0}}var C=t.$,M=t.wA,L=t.z8,U=t.q$,B=t.El,H=t.pv,F=t.Rh,J=t.cQ,Y=t.Be,G=t.d5,V=__webpack_require__(515);const{FORCE_REFLOW:W}=H,K=Symbol.for("@jibs/isTerm");class HTMLRenderer extends U{constructor(e,t){super(e,{document:e&&e.ownerDocument,...t||{}}),Object.defineProperties(this,{eventBindings:{writable:!1,enumerable:!1,configurable:!1,value:new WeakMap}})}getDocument(e){let t=this.options;return t.document?t.document:"undefined"!=typeof document?document:void 0}getWindow(e){let t=this.getDocument(e);if(t){let e=t.parentWindow||t.defaultView;if(e)return e}return"undefined"!=typeof window?window:void 0}_flattenAndFilterStyles(e,t){if(t&&!0!==t&&!Object.is(t,1/0)&&!Object.is(t,NaN)){if(Array.isArray(t)){let r=[];for(let _=0,s=t.length;_<s;_++){let s=t[_];s&&(s=this._flattenAndFilterStyles(e,t[_]),s&&(Array.isArray(s)?r=r.concat(s):r.push(s)))}return r}return t}}_parseCSSStyleString(e,t){let r={};return(t+"").replace(/([a-zA-Z0-9-]+)\s*:\s*([^;]+)/g,((e,t,_)=>{r[(e=>e.replace(/^[^a-zA-Z]+/,"").replace(/[^a-zA-Z0-9]([a-zA-Z0-9-])/g,((e,t)=>t.toUpperCase())))(t)]=_.replace(/^['"]/,"").replace(/['"]$/,"")})),r}_parseStyles(e,t){if(!t)return{};let r={};for(let _=0,s=t.length;_<s;_++){let s=t[_];s&&!J.instanceOf(s,"number","boolean","bigint","function")&&(r=J.instanceOf(s,"string")?Object.assign(r,this._parseCSSStyleString(e,s)):Object.assign(r,s))}return r}_flattenStyles(e,t){let r=this._flattenAndFilterStyles(e,t);return r?(Array.isArray(r)||(r=[r]),this._parseStyles(e,r)):{}}bindEventMethod(e,t,r,_,s,o){let n=_||[],a=r.substring(2).toLowerCase(),i=this.eventBindings.get(t);if(i){let e=i.get(a);e&&(t.removeEventListener(a,e.callback),i.delete(a))}else i=new Map,this.eventBindings.set(t,i);let p={callback:e=>s.call(t,{target:t,propName:r,event:e,props:o}),eventName:a,extraArgs:n};i.set(a,p),t.addEventListener(a,p.callback,...n)}applyElementStyle(e,t,r,_,s,o){let n=s;(null==n||!1===n||!0===n||Object.is(n,1/0)||Object.is(n,NaN))&&(n="unset"),("number"==typeof n||"bigint"==typeof n||n instanceof Number)&&(n=`${n}px`),r[_]!==n&&(o[_]={previous:r[_],current:n},r[_]=n)}applyElementStyles(e,t,r,_){if(!t||!r)return;let s=Object.keys(r).sort(((e,t)=>e.length!==t.length?Math.sign(e.length-t.length):e===t?0:e<t?-1:1)),o={},n=t.style;for(let _=0,a=s.length;_<a;_++){let a=s[_];if(!(a in n))continue;let i=r[a];this.applyElementStyle(e,t,n,a,i,o)}let a=Object.keys(o);if(a.length>0){let e={},t={};for(let r=0,_=a.length;r<_;r++){let _=a[r],s=o[_];e[_]=s.previous,t[_]=s.current}_.style={previous:e,current:t}}}formatElementProps(e,t,r){return r||{}}formatToAttributeName(e){return e.replace(/([a-z0-9]|^)([A-Z])/g,((e,t,r)=>`${t}-${r}`)).toLowerCase()}formatFromAttributeName(e){let t=e.replace(/-[a-z]/g,(e=>e.substring(1).toUpperCase()));return t}handleElementProperty(e,t,r,_,s){if(!(r in t))return!1;if(!/^(scrollLeft|scrollTop|value|checked|disabled|max|min|maxLength|minLength|multiple|pattern|readonly|required|autofocus|open)$/.test(r))return!1;let o=t[r];if(o!==_){if("DIALOG"===t.nodeName&&"open"===r&&"function"==typeof t.showModal)try{_?t.showModal():t.close()}catch(e){setTimeout((()=>{t[r]===o&&(_?t.showModal():t.close())}),5)}s[r]={previous:o,current:_},t[r]=_}return!0}setElementAttribute(e,t,r,_){let s=_;null==s?t.removeAttribute(this.formatToAttributeName(r)):t.setAttribute(this.formatToAttributeName(r),s)}getNativeElementAttributes(e,t,r){let _=t.getAttributeNames(),s={};for(let e=0,o=_.length;e<o;e++){let o=_[e],n=t.getAttribute(o);if("function"==typeof r){let e=r(o,n);null!=e&&(s={...s,...e})}else s[this.formatFromAttributeName(o)]=n}return s}updateElementAttributes(e,t){let r=t.nativeElement,_=t.jib.props||{},s=Object.assign({},_||{});Object.prototype.hasOwnProperty.call(s,"style")?s.style=this._flattenStyles(e,s.style):s.style={},s=this.formatElementProps(e,r,s),s["data-jib-id"]=t.id;let o={},n=[],a=Object.keys(s),i=r.getAttributeNames().reduce(((e,t)=>{let _=r.getAttribute(t),a=this.formatFromAttributeName(t);return Object.prototype.hasOwnProperty.call(s,a)||(n.push(t),o[a]={previous:_,current:void 0}),e[a]=_,e}),{});for(let t=0,_=a.length;t<_;t++){let _=a[t];if("key"===_)continue;if("symbol"==typeof _)continue;if(/^on[A-Z].*ExtraArgs$/.test(_))continue;if(/^(outerHTML)$/.test(_))continue;let n=s[_];if((n instanceof Boolean||n instanceof Number||n instanceof String)&&(n=n.valueOf()),this.isJib(n)){if(n=this.constructJib(n),!(n.Type&&n.Type[K]||/^term$/i.test(n.Type)))continue;n=this.resolveTerm(n)}if("style"===_){this.applyElementStyles(e,r,n,o);continue}if("innerHTML"===_){r.innerHTML=null==n?"":n.toString();continue}if(this.handleElementProperty(e,r,_,n,o))continue;let p=typeof n;if(!0===n)n=_;else if(!1===n)n=null;else if("symbol"===p)n=n.toString();else if("number"===p||"string"===p||"bigint"===p)n=""+n;else{if("function"===p&&/^on[A-Z]/.test(_)){this.bindEventMethod(e,r,_,s[`${_}ExtraArgs`],n,s);continue}if(null!=n)continue}let c=i[_];c!==n&&(o[_]={previous:c,current:n},this.setElementAttribute(e,r,_,n))}for(let e=0,t=n.length;e<t;e++){let t=n[e];r.removeAttribute(t)}return Object.keys(o).length>0}async destroyNativeElement(e,t){let r=t.nativeElement;return!!r&&(r.parentNode&&r.parentNode.removeChild(r),!0)}async destroyTextElement(e,t){return this.destroyNativeElement(e,t)}async destroyPortalElement(e,t){}async findNativeElement(e,t){if(t&&t.jib&&t.jib.Type)return this.getDocument(e).querySelector(t.jib.Type)}async createNativeElement(e,t){if(!t||!t.jib||!t.jib.Type)return;let r=t.jib.Type;return this.getDocument(e).createElement(r)}forceNativeElementReflow(e,t,r){t.props&&t.props[W]&&r.offsetWidth}async updateNativeElement(e,t){return this.updateElementAttributes(e,t)}async createTextElement(e,t){if(!t||!t.jib)return;let r=t.jib.children;return(null==r||Object.is(r,NaN)||Object.is(r,1/0))&&(r=""),this.getDocument(e).createTextNode(""+r)}async updateTextElement(e,t){if(!t||!t.jib)return;let r=t.nativeElement;if(!r)return;let _=t.jib.children;return(null==_||Object.is(_,NaN)||Object.is(_,1/0))&&(_=""),r.nodeValue!==_&&(r.nodeValue=_,!0)}async createPortalElement(e,t){return this.findNativeElement(e,t)}}const q="A",z="ABBR",X="ADDRESS",Q="AREA",Z="ARTICLE",ee="ASIDE",te="AUDIO",re="B",_e="BASE",se="BDI",oe="BDO",ne="BLOCKQUOTE",ae="BR",ie="BUTTON",pe="CANVAS",ce="CAPTION",le="CITE",be="CODE",ue="COL",de="COLGROUP",he="DATA",fe="DATALIST",we="DD",me="DEL",xe="DETAILS",ke="DFN",ye="DIALOG",Te="DIV",Ee="DL",Oe="DT",ge="EM",Ne="EMBED",ve="FIELDSET",Re="FIGCAPTION",Pe="FIGURE",Ae="FOOTER",De="FORM",Se="H1",je="H2",Ie="H3",Ce="H4",Me="H5",Le="H6",Ue="HEADER",Be="HGROUP",He="HR",Fe="I",Je="IFRAME",Ye="IMG",$e="INPUT",Ge="INS",Ve="KBD",We="LABEL",Ke="LEGEND",qe="LI",ze="LINK",Xe="MAIN",Qe="MAP",Ze="MARK",et="MENU",tt="META",rt="METER",_t="NAV",st="NOSCRIPT",ot="OBJECT",nt="OL",at="OPTGROUP",it="OPTION",pt="OUTPUT",ct="P",lt="PICTURE",bt="PRE",ut="PROGRESS",dt="Q",ht="RP",ft="RT",wt="RUBY",mt="S",xt="SAMP",kt="SCRIPT",yt="SECTION",Tt="SELECT",Et="SLOT",Ot="SMALL",gt="SOURCE",Nt="SPAN",vt="STRONG",Rt="STYLE",Pt="SUB",At="SUMMARY",Dt="SUP",St="TABLE",jt="TBODY",It="TD",Ct="TEMPLATE",Mt="TEXTAREA",Lt=F,Ut="TFOOT",Bt="TH",Ht="THEAD",Ft="TIME",Jt="TITLE",Yt="TR",$t="TRACK",Gt="U",Vt="UL",Wt="VAR",Kt="VIDEO",qt="WBR"})();var __webpack_exports__$=__webpack_exports__.$,__webpack_exports__A=__webpack_exports__.A,__webpack_exports__ABBR=__webpack_exports__.IT,__webpack_exports__ADDRESS=__webpack_exports__.o4,__webpack_exports__AREA=__webpack_exports__.q1,__webpack_exports__ARTICLE=__webpack_exports__.N_,__webpack_exports__ASIDE=__webpack_exports__.p7,__webpack_exports__AUDIO=__webpack_exports__.j0,__webpack_exports__B=__webpack_exports__.B,__webpack_exports__BASE=__webpack_exports__.tH,__webpack_exports__BDI=__webpack_exports__.It,__webpack_exports__BDO=__webpack_exports__.ah,__webpack_exports__BLOCKQUOTE=__webpack_exports__.Cs,__webpack_exports__BR=__webpack_exports__.BR,__webpack_exports__BUTTON=__webpack_exports__.q0,__webpack_exports__CANVAS=__webpack_exports__.Wk,__webpack_exports__CAPTION=__webpack_exports__.NE,__webpack_exports__CITE=__webpack_exports__.HQ,__webpack_exports__CODE=__webpack_exports__.cO,__webpack_exports__COL=__webpack_exports__.XW,__webpack_exports__COLGROUP=__webpack_exports__.xE,__webpack_exports__Component=__webpack_exports__.wA,__webpack_exports__Components=__webpack_exports__.z8,__webpack_exports__DATA=__webpack_exports__.D_,__webpack_exports__DATALIST=__webpack_exports__.Ee,__webpack_exports__DD=__webpack_exports__.DD,__webpack_exports__DEL=__webpack_exports__.fU,__webpack_exports__DETAILS=__webpack_exports__.WY,__webpack_exports__DFN=__webpack_exports__.KJ,__webpack_exports__DIALOG=__webpack_exports__.Ey,__webpack_exports__DIV=__webpack_exports__.bg,__webpack_exports__DL=__webpack_exports__.DL,__webpack_exports__DOMRenderer=__webpack_exports__.q$,__webpack_exports__DT=__webpack_exports__.DT,__webpack_exports__EM=__webpack_exports__.EM,__webpack_exports__EMBED=__webpack_exports__.LP,__webpack_exports__FIELDSET=__webpack_exports__.Og,__webpack_exports__FIGCAPTION=__webpack_exports__.QZ,__webpack_exports__FIGURE=__webpack_exports__.zM,__webpack_exports__FOOTER=__webpack_exports__.lW,__webpack_exports__FORM=__webpack_exports__.Yc,__webpack_exports__H1=__webpack_exports__.H1,__webpack_exports__H2=__webpack_exports__.H2,__webpack_exports__H3=__webpack_exports__.H3,__webpack_exports__H4=__webpack_exports__.H4,__webpack_exports__H5=__webpack_exports__.H5,__webpack_exports__H6=__webpack_exports__.H6,__webpack_exports__HEADER=__webpack_exports__.yf,__webpack_exports__HGROUP=__webpack_exports__.zw,__webpack_exports__HR=__webpack_exports__.HR,__webpack_exports__HTMLRenderer=__webpack_exports__.MD,__webpack_exports__I=__webpack_exports__.I,__webpack_exports__IFRAME=__webpack_exports__.Bg,__webpack_exports__IMG=__webpack_exports__.MY,__webpack_exports__INPUT=__webpack_exports__.O4,__webpack_exports__INS=__webpack_exports__.N5,__webpack_exports__Jibs=__webpack_exports__.El,__webpack_exports__KBD=__webpack_exports__.WB,__webpack_exports__LABEL=__webpack_exports__.GP,__webpack_exports__LEGEND=__webpack_exports__.Md,__webpack_exports__LI=__webpack_exports__.LI,__webpack_exports__LINK=__webpack_exports__.Zj,__webpack_exports__MAIN=__webpack_exports__.PW,__webpack_exports__MAP=__webpack_exports__.nN,__webpack_exports__MARK=__webpack_exports__.Gp,__webpack_exports__MENU=__webpack_exports__.sk,__webpack_exports__META=__webpack_exports__.MW,__webpack_exports__METER=__webpack_exports__.Vw,__webpack_exports__NAV=__webpack_exports__.w$,__webpack_exports__NOSCRIPT=__webpack_exports__.VY,__webpack_exports__OBJECT=__webpack_exports__.$l,__webpack_exports__OL=__webpack_exports__.OL,__webpack_exports__OPTGROUP=__webpack_exports__.d0,__webpack_exports__OPTION=__webpack_exports__.U8,__webpack_exports__OUTPUT=__webpack_exports__.DC,__webpack_exports__P=__webpack_exports__.P,__webpack_exports__PICTURE=__webpack_exports__.Sh,__webpack_exports__PRE=__webpack_exports__.Sp,__webpack_exports__PROGRESS=__webpack_exports__.ad,__webpack_exports__Q=__webpack_exports__.Q,__webpack_exports__RP=__webpack_exports__.RP,__webpack_exports__RT=__webpack_exports__.RT,__webpack_exports__RUBY=__webpack_exports__.dg,__webpack_exports__Renderers=__webpack_exports__.pv,__webpack_exports__S=__webpack_exports__.S,__webpack_exports__SAMP=__webpack_exports__.IA,__webpack_exports__SCRIPT=__webpack_exports__.xG,__webpack_exports__SECTION=__webpack_exports__.bQ,__webpack_exports__SELECT=__webpack_exports__.XD,__webpack_exports__SLOT=__webpack_exports__.xF,__webpack_exports__SMALL=__webpack_exports__.HC,__webpack_exports__SOURCE=__webpack_exports__.Hx,__webpack_exports__SPAN=__webpack_exports__.tK,__webpack_exports__STRONG=__webpack_exports__.jV,__webpack_exports__STYLE=__webpack_exports__.BI,__webpack_exports__SUB=__webpack_exports__.Dw,__webpack_exports__SUMMARY=__webpack_exports__.ED,__webpack_exports__SUP=__webpack_exports__.Lh,__webpack_exports__TABLE=__webpack_exports__.Fe,__webpack_exports__TBODY=__webpack_exports__.nz,__webpack_exports__TD=__webpack_exports__.TD,__webpack_exports__TEMPLATE=__webpack_exports__.hv,__webpack_exports__TERM=__webpack_exports__.H,__webpack_exports__TEXTAREA=__webpack_exports__.eV,__webpack_exports__TFOOT=__webpack_exports__.AV,__webpack_exports__TH=__webpack_exports__.TH,__webpack_exports__THEAD=__webpack_exports__.hi,__webpack_exports__TIME=__webpack_exports__.nf,__webpack_exports__TITLE=__webpack_exports__.R,__webpack_exports__TR=__webpack_exports__.TR,__webpack_exports__TRACK=__webpack_exports__.IK,__webpack_exports__Term=__webpack_exports__.Rh,__webpack_exports__U=__webpack_exports__.U,__webpack_exports__UL=__webpack_exports__.UL,__webpack_exports__Utils=__webpack_exports__.cQ,__webpack_exports__VAR=__webpack_exports__.DE,__webpack_exports__VIDEO=__webpack_exports__.pX,__webpack_exports__WBR=__webpack_exports__.W8,__webpack_exports__addResourceHandler=__webpack_exports__.Y_,__webpack_exports__addResourceResolver=__webpack_exports__.BU,__webpack_exports__cssHandler=__webpack_exports__.gK,__webpack_exports__deadbeef=__webpack_exports__.Be,__webpack_exports__factory=__webpack_exports__.d5,__webpack_exports__javascriptHandler=__webpack_exports__.zF,__webpack_exports__load=__webpack_exports__.zD,__webpack_exports__removeResourceHandler=__webpack_exports__.e$,__webpack_exports__removeResourceResolver=__webpack_exports__.js,__webpack_exports__resolveResourcePath=__webpack_exports__.LB;export{__webpack_exports__$ as $,__webpack_exports__A as A,__webpack_exports__ABBR as ABBR,__webpack_exports__ADDRESS as ADDRESS,__webpack_exports__AREA as AREA,__webpack_exports__ARTICLE as ARTICLE,__webpack_exports__ASIDE as ASIDE,__webpack_exports__AUDIO as AUDIO,__webpack_exports__B as B,__webpack_exports__BASE as BASE,__webpack_exports__BDI as BDI,__webpack_exports__BDO as BDO,__webpack_exports__BLOCKQUOTE as BLOCKQUOTE,__webpack_exports__BR as BR,__webpack_exports__BUTTON as BUTTON,__webpack_exports__CANVAS as CANVAS,__webpack_exports__CAPTION as CAPTION,__webpack_exports__CITE as CITE,__webpack_exports__CODE as CODE,__webpack_exports__COL as COL,__webpack_exports__COLGROUP as COLGROUP,__webpack_exports__Component as Component,__webpack_exports__Components as Components,__webpack_exports__DATA as DATA,__webpack_exports__DATALIST as DATALIST,__webpack_exports__DD as DD,__webpack_exports__DEL as DEL,__webpack_exports__DETAILS as DETAILS,__webpack_exports__DFN as DFN,__webpack_exports__DIALOG as DIALOG,__webpack_exports__DIV as DIV,__webpack_exports__DL as DL,__webpack_exports__DOMRenderer as DOMRenderer,__webpack_exports__DT as DT,__webpack_exports__EM as EM,__webpack_exports__EMBED as EMBED,__webpack_exports__FIELDSET as FIELDSET,__webpack_exports__FIGCAPTION as FIGCAPTION,__webpack_exports__FIGURE as FIGURE,__webpack_exports__FOOTER as FOOTER,__webpack_exports__FORM as FORM,__webpack_exports__H1 as H1,__webpack_exports__H2 as H2,__webpack_exports__H3 as H3,__webpack_exports__H4 as H4,__webpack_exports__H5 as H5,__webpack_exports__H6 as H6,__webpack_exports__HEADER as HEADER,__webpack_exports__HGROUP as HGROUP,__webpack_exports__HR as HR,__webpack_exports__HTMLRenderer as HTMLRenderer,__webpack_exports__I as I,__webpack_exports__IFRAME as IFRAME,__webpack_exports__IMG as IMG,__webpack_exports__INPUT as INPUT,__webpack_exports__INS as INS,__webpack_exports__Jibs as Jibs,__webpack_exports__KBD as KBD,__webpack_exports__LABEL as LABEL,__webpack_exports__LEGEND as LEGEND,__webpack_exports__LI as LI,__webpack_exports__LINK as LINK,__webpack_exports__MAIN as MAIN,__webpack_exports__MAP as MAP,__webpack_exports__MARK as MARK,__webpack_exports__MENU as MENU,__webpack_exports__META as META,__webpack_exports__METER as METER,__webpack_exports__NAV as NAV,__webpack_exports__NOSCRIPT as NOSCRIPT,__webpack_exports__OBJECT as OBJECT,__webpack_exports__OL as OL,__webpack_exports__OPTGROUP as OPTGROUP,__webpack_exports__OPTION as OPTION,__webpack_exports__OUTPUT as OUTPUT,__webpack_exports__P as P,__webpack_exports__PICTURE as PICTURE,__webpack_exports__PRE as PRE,__webpack_exports__PROGRESS as PROGRESS,__webpack_exports__Q as Q,__webpack_exports__RP as RP,__webpack_exports__RT as RT,__webpack_exports__RUBY as RUBY,__webpack_exports__Renderers as Renderers,__webpack_exports__S as S,__webpack_exports__SAMP as SAMP,__webpack_exports__SCRIPT as SCRIPT,__webpack_exports__SECTION as SECTION,__webpack_exports__SELECT as SELECT,__webpack_exports__SLOT as SLOT,__webpack_exports__SMALL as SMALL,__webpack_exports__SOURCE as SOURCE,__webpack_exports__SPAN as SPAN,__webpack_exports__STRONG as STRONG,__webpack_exports__STYLE as STYLE,__webpack_exports__SUB as SUB,__webpack_exports__SUMMARY as SUMMARY,__webpack_exports__SUP as SUP,__webpack_exports__TABLE as TABLE,__webpack_exports__TBODY as TBODY,__webpack_exports__TD as TD,__webpack_exports__TEMPLATE as TEMPLATE,__webpack_exports__TERM as TERM,__webpack_exports__TEXTAREA as TEXTAREA,__webpack_exports__TFOOT as TFOOT,__webpack_exports__TH as TH,__webpack_exports__THEAD as THEAD,__webpack_exports__TIME as TIME,__webpack_exports__TITLE as TITLE,__webpack_exports__TR as TR,__webpack_exports__TRACK as TRACK,__webpack_exports__Term as Term,__webpack_exports__U as U,__webpack_exports__UL as UL,__webpack_exports__Utils as Utils,__webpack_exports__VAR as VAR,__webpack_exports__VIDEO as VIDEO,__webpack_exports__WBR as WBR,__webpack_exports__addResourceHandler as addResourceHandler,__webpack_exports__addResourceResolver as addResourceResolver,__webpack_exports__cssHandler as cssHandler,__webpack_exports__deadbeef as deadbeef,__webpack_exports__factory as factory,__webpack_exports__javascriptHandler as javascriptHandler,__webpack_exports__load as load,__webpack_exports__removeResourceHandler as removeResourceHandler,__webpack_exports__removeResourceResolver as removeResourceResolver,__webpack_exports__resolveResourcePath as resolveResourcePath};
//# sourceMappingURL=index.js.map